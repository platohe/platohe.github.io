(this.webpackJsonpawesomeasciiart=this.webpackJsonpawesomeasciiart||[]).push([[14],{1188:function(t,e,i){"use strict";i.r(e);var n=i(13),a=i(14),r=i(5),s=i(16),o=i(15),h=i(0),c=i.n(h),l=i(1192),u=i(1211),f=i(1212),d=(i(41),i(3)),p=i(148),v=i.n(p),g=i(149),y=i(133),m={hash:0,effectIndex:0,text:"",tick:0,options:{evenFontSize:!0,fontSize:15,evenSpeed:!0,speed:120,patternIndex:0},optionExpanded:!1,pieces:[]},x=!1;function b(){return(b=Object(g.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:x=!0;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){var t={optionExpanded:m.optionExpanded,effectIndex:m.effectIndex,options:m.options};""!==JSON.stringify(t)&&Object(y.b)("particles#pref",t)}var w=m,O=i(128),M=i(132),C=i(25),S=i(1190);function j(t,e,i){var n=t.getContext("2d"),a=function(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}(n);return t.width=e*a,t.height=i*a,t.style.width=e+"px",t.style.height=i+"px",n.setTransform(a,0,0,a,0,0),t}var T=[{name:"ASCII characters",characters:""},{name:"0,1",characters:"01"},{name:"alphanumeric",characters:"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"},{name:"symbols",characters:"~!@#$%^&*()_+`_-=[]\\;',./{}|:\"<>?"},{name:"currency",characters:"\u20a0\u20a1\u20a2\u20a3\u20a4\u20a5\u20a6\u20a7\u20a8\u20a9\u20aa\u20ab\u20ac\u20ad\u20ae\u20af\u20b0\u20b1\u20b2\u20b3\u20b4\u20b5\u20b6\u20b7\u20b8\u20b9\u20ba\u20bb\u20bc\u20bd\u20be\u20bf"},{name:"katakana",characters:"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e642\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\u3105\u3106\u3107\u3108\u3109\u310a\u310b\u310c\u310d\u310e\u310f\u3110\u3112\u3113\u3114\u3115\u3117\u3118\u3119\u311a\u311b\u311c\u311d\u311e\u3120\u3121\u3122\u3123\u3124\u3125\u3126\u3128\u3129\u312a\u312b\u312c"}];function E(t,e){var i=Math.random()*(e-t)+t;return Number.isInteger(t)&&Number.isInteger(e)?Math.floor(i):i}var z=function(){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(n.a)(this,t),this.configName=i,this.store=e,e[i]||(e[i]=a),void 0===e[i].patternIndex&&(e[i].patternIndex=0)}return Object(a.a)(t,[{key:"getName",value:function(){return"Effect"}},{key:"init",value:function(t,e){var i=t.getBoundingClientRect(),n=i.width,a=i.height;this.width=~~n,this.height=~~a,(this.canvas!==t||e)&&(j(t,n,a),this.canvas=t,this.ctx=t.getContext("2d"),this.center&&!e||(this.center={x:n/2,y:a/2}),this.ctx.font="15px Consolas",this.ctx.fillStyle="rgba(0, 255, 0, 0.7)")}},{key:"draw",value:function(){}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){var t=this,e=this.getConfig().patternIndex;return[c.a.createElement("div",{key:"".concat(this.configName,"#pattern"),className:"underline",style:{padding:"0 0 8px 0"}},c.a.createElement("span",null,"Character pattern"),c.a.createElement(l.a,{style:{width:250},defaultValue:e,placeholder:"Select a pattern",onChange:function(e){t.changeConfig("patternIndex",e)}},T.map((function(t,e){return c.a.createElement(l.a.Option,{key:"pattern#".concat(e),value:e},"".concat(t.name))}))))]}},{key:"renderOption",value:function(t,e,i,n,a,r){var s=this,o=this.getConfig()[t]||r;return c.a.createElement("div",{key:"".concat(this.configName,"#").concat(t),style:{margin:"8px 0"}},c.a.createElement("span",null,"".concat(e,": ").concat(o)),c.a.createElement(S.a,{min:i,max:n,step:a,value:o,tipFormatter:function(t){return"".concat(t)},onChange:function(e){return s.changeConfig(t,e)}}))}},{key:"getConfig",value:function(){return this.store[this.configName]}},{key:"changeConfig",value:function(t,e){this.getConfig()[t]=e,Object(d.a)("event@effect-config-changed")}},{key:"getRandChar",value:function(){var t=T[this.getConfig().patternIndex].characters;if(t.length)return t[Math.floor(Math.random()*t.length)];var e=Math.floor(94*Math.random())+33;return String.fromCharCode(parseInt(e))}},{key:"getRandString",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=[],i=Math.floor(Math.random()*t)+1,n=0;n<i;n++)e.push(this.getRandChar());return e.join("")}}]),t}(),R=function(){function t(e,i,a){Object(n.a)(this,t),this.x=this.oldX=e,this.y=this.oldY=i,this.c=a}return Object(a.a)(t,[{key:"getVelocity",value:function(){return{x:this.x-this.oldX,y:this.y-this.oldY}}},{key:"integrate",value:function(t){var e=this.getVelocity();this.oldX=this.x,this.oldY=this.y,this.x+=e.x*t,this.y+=e.y*t}},{key:"attract",value:function(t,e){var i=t-this.x,n=e-this.y,a=Math.sqrt(i*i+n*n);this.x+=i/a,this.y+=n/a}},{key:"drawCharacter",value:function(t){t.fillStyle="#0f0",t.fillText(this.c,this.x,this.y)}},{key:"drawTrace",value:function(t){t.strokeStyle="#0099ff",t.lineWidth=2,t.beginPath(),t.moveTo(this.oldX,this.oldY),t.lineTo(this.x,this.y),t.stroke()}},{key:"draw",value:function(t){this.drawCharacter(t)}}]),t}(),L=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"trace",{damping:.999,count:200})}return Object(a.a)(i,[{key:"getName",value:function(){return"Oscillation"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){var n=this.width,a=this.height,r=this.getConfig().count;this.particles=[];for(var s=0;s<r;s++){var o=E(0,n),h=E(0,a),c=this.getRandChar();this.particles.push(new R(o,h,c))}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height,a=this.center;if(t){var r=this.getConfig();t.clearRect(0,0,i,n);for(var s=0;s<e.length;s++){var o=e[s];o.attract(a.x,a.y),o.integrate(r.damping),o.draw(t)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":this.center=e;break;case"event@mouse-clicked":this.center=e,this.init(this.canvas,!0)}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Characters",10,1e3,1),this.renderOption("damping","Damping",.1,1,.01)])}}]),i}(z),F=function(){function t(e,i,a){Object(n.a)(this,t),this.x=this.oldX=e,this.y=this.oldY=i,this.c=a}return Object(a.a)(t,[{key:"getVelocity",value:function(){return{x:this.x-this.oldX,y:this.y-this.oldY}}},{key:"integrate",value:function(){var t=this.getVelocity();this.oldX=this.x,this.oldY=this.y,this.x+=.999*t.x,this.y+=.999*t.y}},{key:"move",value:function(t,e){this.x+=t,this.y+=e}},{key:"bounce",value:function(t){if(this.y>t){var e=this.getVelocity();this.oldY=t,this.y=this.oldY-.3*e.y}}},{key:"drawCharacter",value:function(t){t.fillStyle="#0f0",t.fillText(this.c,this.x,this.y)}},{key:"drawTrace",value:function(t){t.strokeStyle="#0099ff",t.lineWidth=2,t.beginPath(),t.moveTo(this.oldX,this.oldY),t.lineTo(this.x,this.y),t.stroke()}},{key:"draw",value:function(t){this.drawCharacter(t)}}]),t}(),I=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"fountain",{count:1e3,spread:4,gravity:.3})}return Object(a.a)(i,[{key:"getName",value:function(){return"Fountain"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.drops||e){var n=this.ctx,a=this.width,r=this.height;n.globalCompositeOperation="overlay",this.drops=[],this.center||(this.center={x:.5*a,y:.5*r})}}},{key:"draw",value:function(){var t=this.ctx,e=this.drops,i=this.width,n=this.height;if(t){var a=this.getConfig(),r=a.count,s=a.spread,o=a.gravity;e.length<r?this.tick=0:(this.tick++,this.tick>120&&(e.length=0)),t.clearRect(0,0,i,n);for(var h=0;h<5;h++)if(e.length<r){var c=new F(this.center.x,n,this.getRandChar());c.move(s/2-Math.random()*s,-2*Math.random()-15),e.push(c)}for(var l=0;l<e.length;l++)e[l].move(0,o),e[l].integrate(),e[l].bounce(),e[l].draw(t)}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Droplets",100,1e3,1),this.renderOption("gravity","Gravity",.1,1,.1),this.renderOption("spread","Spread",4,20,1)])}}]),i}(z),P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;Object(n.a)(this,t),this.x=e,this.y=i,this.vx=a,this.vy=r,this.c=s}return Object(a.a)(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x+=this.vx+t,this.y+=this.vy+e}}]),t}(),A=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"hose",{count:1e3})}return Object(a.a)(i,[{key:"getName",value:function(){return"Hose"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.particles=[],this.center={x:this.width/2,y:1};for(var n=this.getConfig().count,a=0;a<n;++a)this.particles.push(new P(this.center.x,this.center.y,E(0,3)-1.5,E(0,3)-1.5,this.getRandChar()));this.ctx.fillStyle="rgba(0, 255, 0, 0.7)"}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height,a=this.center;if(t){t.clearRect(0,0,i,n);for(var r=0;r<e.length;++r){var s=e[r],o=s.x,h=s.y;o>=0&&o<i&&h>=0&&h<n?(s.update(0,5),t.fillText(s.c,o,h)):(s.x=a.x,s.y=a.y,s.vx=E(0,3)-1.5,s.vy=E(0,3)-1.5)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center={x:e.x,y:1}}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Droplets",100,1e3,1)])}}]),i}(z),N=function(){function t(e,i,a){Object(n.a)(this,t),this.x=E(0,e),this.y=E(0,i),this.vx=-1+E(0,2),this.vy=-1+E(0,2),this.radius=4,this.c=a}return Object(a.a)(t,[{key:"draw",value:function(t){t.fillStyle="#0f0",t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fill(),t.fillText(this.c,this.x,this.y)}}]),t}(),Y=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"web",{minDistance:70,blurness:.5})}return Object(a.a)(i,[{key:"getName",value:function(){return"Web"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){var n=this.width,a=this.height;this.particles=[];for(var r=0;r<150;r++)this.particles.push(new N(n,a,this.getRandChar()))}}},{key:"distance",value:function(t,e){var i=t.x-e.x,n=t.y-e.y,a=Math.sqrt(i*i+n*n),r=this.getConfig().minDistance;if(a<=r){var s=this.ctx;s.beginPath(),s.strokeStyle="rgba(0,255,0,"+(1.2-a/r)+")",s.moveTo(t.x,t.y),s.lineTo(e.x,e.y),s.stroke(),s.closePath();var o=i/2e3,h=n/2e3;t.vx-=o,t.vy-=h,e.vx+=o,e.vy+=h}}},{key:"update",value:function(){for(var t=this.particles,e=this.width,i=this.height,n=0;n<t.length;n++){var a=t[n];a.x+=a.vx,a.y+=a.vy,a.x+a.radius>e?a.x=a.radius:a.x-a.radius<0&&(a.x=e-a.radius),a.y+a.radius>i?a.y=a.radius:a.y-a.radius<0&&(a.y=i-a.radius);for(var r=n+1;r<t.length;r++){var s=t[r];this.distance(a,s)}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height;if(t){t.fillStyle="rgba(0,0,0, ".concat(this.getConfig().blurness,")"),t.fillRect(0,0,i,n);for(var a=0;a<e.length;a++){e[a].draw(t)}this.update()}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("minDistance","Minimun Distance",10,200,1),this.renderOption("blurness","Blurness",.1,1,.05)])}}]),i}(z),D=i(1194),V=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"matrix",{evenFontSize:!0,fontSize:15,evenSpeed:!0,speed:120,patternIndex:0})}return Object(a.a)(i,[{key:"getName",value:function(){return"Rain"}},{key:"changeConfig",value:function(t,e){this.getConfig()[t]=e,this.init(this.canvas,!0),Object(d.a)("event@effect-config-changed")}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.columns||e){var n=this.width,a=this.height,r=this.getConfig().fontSize||10;this.columns=[];for(var s=0;s<n/r;s++)this.columns[s]={y:E(0,a/r),speed:20+E(0,480),fontSize:10+E(0,25)}}}},{key:"getX",value:function(t){var e=this.columns,i=this.getConfig();if(i.evenFontSize)return t*i.fontSize;for(var n=0,a=0;a<t;a++)n+=e[a].fontSize;return n}},{key:"getYStep",value:function(t){var e=this.getConfig();return e.evenFontSize?e.fontSize:this.columns[t].fontSize}},{key:"draw",value:function(t){if(this.columns){var e=this.getConfig(),i=e.evenSpeed,n=e.evenFontSize,a=e.fontSize,r=this.ctx,s=this.width,o=this.height,h=this.columns;r.fillStyle="rgba(0,0,0,0.05)",r.fillRect(0,0,s,o),r.fillStyle="#0f0",n&&(r.font="".concat(a,"px Consolas"));for(var c=0;c<h.length;c++){var l=h[c];if(!i){if(l.speed>t)continue;var u=t%l.speed;if(!(u>=0&&u<=20))continue}var f=this.getRandChar(),d=this.getX(c),p=this.getYStep(c),v=l.y*p;n||(r.font="".concat(l.fontSize,"px Consolas")),v<o&&(l.lastChar&&(r.fillStyle="#0f0",r.fillText(l.lastChar,d,v-p)),r.fillStyle="#fff",r.fillText(f,d,v)),v>o&&Math.random()>.975?(l.y=1,l.lastChar=void 0):(l.y++,l.lastChar=f)}}}},{key:"renderSpeedOption",value:function(){var t=this,e=this.getConfig(),i=e.evenSpeed,n=e.speed;return c.a.createElement("div",{key:"matrix#speed",className:"underline",style:{padding:"8px 0"}},c.a.createElement(D.a,{style:{margin:"0 16px 0 0"},checked:i,onChange:function(e){return t.changeConfig("evenSpeed",!t.getConfig().evenSpeed)}},"Even Speed"),i&&c.a.createElement("div",{style:{margin:"8px 0",maxWidth:"150px"}},c.a.createElement("span",null,"Speed: ".concat(n)),c.a.createElement(S.a,{min:20,max:500,step:10,value:n,tipFormatter:function(t){return"".concat(t," ms")},onChange:function(e){return t.changeConfig("speed",e)}})))}},{key:"renderFontSizeOption",value:function(){var t=this,e=this.getConfig(),i=e.evenFontSize,n=e.fontSize;return c.a.createElement("div",{key:"matrix#fontsize",style:{padding:"8px 0"}},c.a.createElement(D.a,{style:{margin:"0 16px 0 0"},checked:i,onChange:function(e){return t.changeConfig("evenFontSize",!t.getConfig().evenFontSize)}},"Even Font Size"),i&&c.a.createElement("div",{style:{margin:"8px 0",maxWidth:"200px"}},c.a.createElement("span",null,"Font Size: ".concat(n)),c.a.createElement(S.a,{min:10,max:35,step:1,value:n,tipFormatter:function(t){return"".concat(t," px")},onChange:function(e){return t.changeConfig("fontSize",e)}})))}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderSpeedOption(),this.renderFontSizeOption()])}}]),i}(z),W=function(){function t(e,i){Object(n.a)(this,t),this.x=Math.random()*e,this.y=Math.random()*i,this.r=3*Math.random(),this.b=~~(100*Math.random())/100}return Object(a.a)(t,[{key:"draw",value:function(t){this.b+=.4*(Math.random()-.5),t.fillStyle="rgba(255,255,255,"+this.b+")",t.beginPath(),t.arc(~~this.x,~~this.y,this.r,0,2*Math.PI),t.fill(),t.closePath()}}]),t}();new Array("#03f","#f03","#0e0","#93f","#0cf","#f93","#f0c"),i(418);i(46),i(419);var X,_,q={toDeg:180/Math.PI,toRad:Math.PI/180,halfPI:Math.PI/2,twoPI:2*Math.PI,dist:function(t,e){return Math.sqrt(t*t+e*e)},pointDist:function(t,e,i,n){var a=i-t,r=n-e;return Math.sqrt(a*a+r*r)},angle:function(t,e){return q.halfPI+Math.atan2(e,t)},pointAngle:function(t,e,i,n){return q.halfPI+Math.atan2(n-e,i-t)},splitVector:function(t,e){return{x:Math.sin(e)*t,y:-Math.cos(e)*t}},random:function(t,e){return Math.random()*(e-t)+t},randomInt:function(t,e){return(Math.random()*(e-t+1)|0)+t},randomChoice:function(t){if(Array.isArray(t))return t[Math.random()*t.length|0]},clamp:function(t,e,i){return Math.min(Math.max(t,e),i)}},B=window.innerWidth<=640,G=window.innerWidth>800,U=function(){var t=navigator.hardwareConcurrency;return!!t&&t>=(window.innerWidth<=1024?4:8)}(),Z=1;var J={Red:"#ff0043",Green:"#14fc56",Blue:"#1e7fff",Purple:"#e60aff",Gold:"#ffbf36",White:"#ffffff"},H="_INVISIBLE_",K=2*Math.PI,Q=.5*Math.PI,$={_listeners:new Set,_dispatch:function(t){var e=this;this._listeners.forEach((function(i){return i(e.state,t)}))},state:{paused:!0,soundEnabled:!1,menuOpen:!1,openHelpTopic:null,config:{quality:String(U?3:2),shell:"Random",size:G?"3":"2",autoLaunch:!0,finale:!1,skyLighting:"2",hideControls:!1,longExposure:!1,scaleFactor:B?.9:1}},setState:function(t){var e=this.state;this.state=Object.assign({},this.state,t),this._dispatch(e),this.persist()},subscribe:function(t){var e=this;return this._listeners.add(t),function(){return e._listeners.remove(t)}},load:function(){var t=localStorage.getItem("cm_fireworks_data");if(t){var e=JSON.parse(t),i=e.schemaVersion,n=e.data,a=this.state.config;switch(i){case"1.1":a.quality=n.quality,a.size=n.size,a.skyLighting=n.skyLighting;break;case"1.2":a.quality=n.quality,a.size=n.size,a.skyLighting=n.skyLighting,a.scaleFactor=n.scaleFactor;break;default:throw new Error("version switch should be exhaustive")}console.log("Loaded config (schema version ".concat(i,")"))}else if("1"===localStorage.getItem("schemaVersion")){var r;try{var s=localStorage.getItem("configSize");r="string"===typeof s&&JSON.parse(s)}catch(h){return console.log("Recovered from error parsing saved config:"),void console.error(h)}var o=parseInt(r,10);o>=0&&o<=4&&(this.state.config.size=String(o))}},persist:function(){var t=this.state.config;localStorage.setItem("cm_fireworks_data",JSON.stringify({schemaVersion:"1.2",data:{quality:t.quality,size:t.size,skyLighting:t.skyLighting,scaleFactor:t.scaleFactor}}))}};$.load();var tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.state;return!t.paused&&!t.menuOpen},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.state;return t.soundEnabled},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.state;return tt(t)&&et(t)},nt=function(){return $.state.config.shell},at=function(){return+$.state.config.size},rt=function(){return+$.state.config.skyLighting};$.subscribe((function(t,e){var i=it(t);i!==it(e)&&(i?Ht.resumeAll():Ht.pauseAll())}));var st,ot=Object.keys(J).map((function(t){return J[t]})),ht=[].concat(Object(O.a)(ot),[H]),ct=(ht.reduce((function(t,e,i){return t[e]=i,t}),{}),{});function lt(){return ot[Math.random()*ot.length|0]}function ut(t){var e=t&&t.notSame,i=t&&t.notColor,n=t&&t.limitWhite,a=lt();if(n&&a===J.White&&Math.random()<.6&&(a=lt()),e)for(;a===st;)a=lt();else if(i)for(;a===i;)a=lt();return st=a,a}function ft(){return Math.random()<.5?J.Gold:J.White}function dt(t){return t===J.White||t===J.Gold?ut({notColor:t}):ft()}ot.forEach((function(t){ct[t]={r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)}}));var pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Math.random()<.25,i=Math.random()<.72,n=i?ut({limitWhite:!0}):[ut(),ut({notSame:!0})],a=i&&Math.random()<.42,r=a&&dt(n),s=i&&(Math.random()<.2||n===J.White)?r||ut({notColor:n,limitWhite:!0}):null,o=!a&&n!==J.White&&Math.random()<.42,h=e?1.1:1.25;return{shellSize:t,spreadSize:300+100*t,starLife:900+200*t,starDensity:h,color:n,secondColor:s,glitter:e?"light":"",glitterColor:ft(),pistil:a,pistilColor:r,streamers:o}},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ut(),i=Math.random()<.75;return{shellSize:t,ring:!0,color:e,spreadSize:300+100*t,starLife:900+200*t,starCount:2.2*K*(t+1),pistil:i,pistilColor:dt(e),glitter:i?"":"light",glitterColor:e===J.Gold?J.Gold:J.White,streamers:Math.random()<.3}};function gt(){return Math.random()<.5?"Crysanthemum":wt[Math.random()*(wt.length-1)+1|0]}function yt(t){return kt[gt()](t)}function mt(t){return kt[nt()](t)}var xt=["Falling Leaves","Floral","Willow"];function bt(){var t="Random"===nt(),e=t?gt():nt();if(t)for(;xt.includes(e);)e=gt();return kt[e]}var kt={Random:yt,Crackle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Math.random()<.75?J.Gold:ut();return{shellSize:t,spreadSize:380+75*t,starDensity:1,starLife:600+100*t,starLifeVariation:.32,glitter:"light",glitterColor:J.Gold,color:e,crackle:!0,pistil:Math.random()<.65,pistilColor:dt(e)}},Crossette:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ut({limitWhite:!0});return{shellSize:t,spreadSize:300+100*t,starLife:750+160*t,starLifeVariation:.4,starDensity:.85,color:e,crossette:!0,pistil:Math.random()<.5,pistilColor:dt(e)}},Crysanthemum:pt,"Falling Leaves":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{shellSize:t,color:H,spreadSize:300+120*t,starDensity:.12,starLife:500+50*t,starLifeVariation:.5,glitter:"medium",glitterColor:J.Gold,fallingLeaves:!0}},Floral:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{shellSize:t,spreadSize:300+120*t,starDensity:.12,starLife:500+50*t,starLifeVariation:.5,color:Math.random()<.65?"random":Math.random()<.15?ut():[ut(),ut({notSame:!0})],floral:!0}},Ghost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=pt(t);e.starLife*=1.5;var i=ut({notColor:J.White});e.streamers=!0;var n=Math.random()<.42;n&&dt(i);return e.color=H,e.secondColor=i,e.glitter="",e},"Horse Tail":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ut();return{shellSize:t,horsetail:!0,color:e,spreadSize:250+38*t,starDensity:.9,starLife:2500+300*t,glitter:"medium",glitterColor:Math.random()<.5?ft():e,strobe:e===J.White}},Palm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ut(),i=Math.random()<.5;return{shellSize:t,color:e,spreadSize:250+75*t,starDensity:i?.15:.4,starLife:1800+200*t,glitter:i?"thick":"heavy"}},Ring:vt,Strobe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ut({limitWhite:!0});return{shellSize:t,spreadSize:280+92*t,starLife:1100+200*t,starLifeVariation:.4,starDensity:1.1,color:e,glitter:"light",glitterColor:J.White,strobe:!0,strobeColor:Math.random()<.5?J.White:null,pistil:Math.random()<.5,pistilColor:dt(e)}},Willow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{shellSize:t,spreadSize:300+100*t,starDensity:.6,starLife:3e3+300*t,glitter:"willow",glitterColor:J.Gold,color:H}}},wt=Object.keys(kt);function Ot(){!function(t){var e,i=$.state.paused;i!==(e="boolean"===typeof t?t:!i)&&$.setState({paused:e})}(!1)}function Mt(t){return.64*t+.18}function Ct(t){return.75*t}function St(){var t=at(),e=Math.min(2.5,t),i=Math.random()*e,n=t-i,a=0===e?Math.random():1-i/e,r=Math.random()*(1-.65*a)*.5;return{size:n,x:Mt(Math.random()<.5?.5-r:.5+r),height:Ct(a)}}function jt(){var t=St(),e=new Bt(mt(t.size));e.launch(t.x,t.height);var i=e.starLife;return e.fallingLeaves&&(i=4600),900+600*Math.random()+i}function Tt(){var t=St(),e=St(),i=new Bt(mt(t.size)),n=new Bt(mt(e.size)),a=.2*Math.random()-.1,r=.2*Math.random()-.1;i.launch(.3+a,t.height),setTimeout((function(){n.launch(.7+r,e.height)}),100);var s=Math.max(i.starLife,n.starLife);return(i.fallingLeaves||n.fallingLeaves)&&(s=4600),900+600*Math.random()+s}function Et(){var t=bt(),e=at(),i=Math.max(0,e-1.25),n=.08*Math.random()-.04;new Bt(t(e)).launch(.5+n,.7);var a=1e3+400*Math.random(),r=1e3+400*Math.random();return setTimeout((function(){var e=.08*Math.random()-.04;new Bt(t(i)).launch(.2+e,.1)}),a),setTimeout((function(){var e=.08*Math.random()-.04;new Bt(t(i)).launch(.8+e,.1)}),r),4e3}function zt(){var t=G?7:4,e=at(),i=Math.max(0,e-3),n=Math.random()<.78?pt:vt,a=yt;function r(t,r){var s="Random"===nt()?r?a:n:kt[nt()],o=t<=.5?t/.5:(1-t)/.5;new Bt(s(r?e:i)).launch(t,r?.75:.42*o)}for(var s=0,o=0;s<=t;)s===t?setTimeout((function(){r(.5,!0)}),o):function(){var e=s/t*.5,i=30*Math.random()+30;setTimeout((function(){r(e,!1)}),o),setTimeout((function(){r(1-e,!1)}),o+i)}(),s++,o+=200;return 3400+250*t}function Rt(){Rt.lastCalled=Date.now();var t=G?11:5,e=G?3:1,i=Math.max(0,at()-2),n=Math.random()<.78?pt:vt,a=bt();function r(t,e){var r="Random"===nt()?e?a:n:kt[nt()],s=new Bt(r(i)),o=(Math.cos(5*t*Math.PI+Q)+1)/2;s.launch(t,.75*o)}for(var s=0,o=0;s<t;)0===s?(r(.5,!1),s+=1):function(){var i=(s+1)/t/2,n=30*Math.random()+30,a=s===e;setTimeout((function(){r(.5+i,a)}),o),setTimeout((function(){r(.5-i,a)}),o+n),s+=2}(),o+=200;return 3400+120*t}Rt.cooldown=15e3,Rt.lastCalled=Date.now();var Lt=!0,Ft=0;function It(t){if(Lt)return Lt=!1,new Bt(t.shellType(at())||pt(at())).launch(.5,.5),2400;if($.state.config.finale)return function(t){var e=bt(),i=St(),n=new Bt(t.shellType(i.size)||e(i.size));n.launch(i.x,i.height);var a=n.starLife;Math.random()}(t),Ft<32?(Ft++,170):(Ft=0,6e3);var e=Math.random();return e<.08&&Date.now()-Rt.lastCalled>Rt.cooldown?Rt():e<.1?zt():e<.6?jt():e<.8?Tt():e<1?Et():void 0}var Pt=0,At=0,Nt=0;function Yt(t,e,i){if(tt()){var n=e*Z,a=Z*i;!function(t,e,i){Pt++,(At-=i/30)<0&&(At=0),$.state.config.autoLaunch&&(Nt-=e)<=0&&(Nt=1.25*It(t))}(t,n,i);var r=1-(1-Zt.airDrag)*a,s=1-(1-Zt.airDragHeavy)*a,o=1-(1-Jt.airDrag)*a,h=n/1e3*.9;ht.forEach((function(t){for(var e=Zt.active[t],i=e.length-1;i>=0;i-=1){var c=e[i];if(c.updateFrame!==Pt)if(c.updateFrame=Pt,c.life-=n,c.life<=0)e.splice(i,1),Zt.returnInstance(c);else{var l=Math.pow(c.life/c.fullLife,.5),u=1-l;if(c.prevX=c.x,c.prevY=c.y,c.x+=c.speedX*a,c.y+=c.speedY*a,c.heavy?(c.speedX*=s,c.speedY*=s):(c.speedX*=r,c.speedY*=r),c.speedY+=h,c.spinRadius&&(c.spinAngle+=c.spinSpeed*a,c.x+=Math.sin(c.spinAngle)*c.spinRadius*a,c.y+=Math.cos(c.spinAngle)*c.spinRadius*a),c.sparkFreq)for(c.sparkTimer-=n;c.sparkTimer<0;)c.sparkTimer+=.75*c.sparkFreq+c.sparkFreq*u*4,Jt.add(c.x,c.y,c.sparkColor,Math.random()*K,Math.random()*c.sparkSpeed*l,.8*c.sparkLife+Math.random()*c.sparkLifeVariation*c.sparkLife);c.life<c.transitionTime&&(c.secondColor&&!c.colorChanged&&(c.colorChanged=!0,c.color=c.secondColor,e.splice(i,1),Zt.active[c.secondColor].push(c),c.secondColor===H&&(c.sparkFreq=0)),c.strobe&&(c.visible=Math.floor(c.life/c.strobeFreq)%3===0))}}for(var f=Jt.active[t],d=f.length-1;d>=0;d-=1){var p=f[d];p.life-=n,p.life<=0?(f.splice(d,1),Jt.returnInstance(p)):(p.prevX=p.x,p.prevY=p.y,p.x+=p.speedX*a,p.y+=p.speedY*a,p.speedX*=o,p.speedY*=o,p.speedY+=h)}})),function(t,e){var i=t.width,n=t.height,a=t.mainCtx,r=t.trailsCtx;0!==rt()&&function(t){var e=15*rt(),i=0;Vt.r=0,Vt.g=0,Vt.b=0,ot.forEach((function(t){var e=ct[t],n=Zt.active[t].length;i+=n,Vt.r+=e.r*n,Vt.g+=e.g*n,Vt.b+=e.b*n}));var n=Math.pow(Math.min(1,i/500),.3),a=Math.max(1,Vt.r,Vt.g,Vt.b);Vt.r=Vt.r/a*e*n,Vt.g=Vt.g/a*e*n,Vt.b=Vt.b/a*e*n;Dt.r+=(Vt.r-Dt.r)/10*t,Dt.g+=(Vt.g-Dt.g)/10*t,Dt.b+=(Vt.b-Dt.b)/10*t}(e);for(;Gt.active.length;){var s=Gt.active.pop(),o=r.createRadialGradient(s.x,s.y,0,s.x,s.y,s.radius);o.addColorStop(.024,"rgba(255, 255, 255, 1)"),o.addColorStop(.125,"rgba(255, 160, 20, 0.2)"),o.addColorStop(.32,"rgba(255, 140, 20, 0.11)"),o.addColorStop(1,"rgba(255, 120, 20, 0)"),r.fillStyle=o,r.fillRect(s.x-s.radius,s.y-s.radius,2*s.radius,2*s.radius),Gt.returnInstance(s)}if(r.globalCompositeOperation="lighten",a.strokeStyle="#fff",r.lineCap="round",a.beginPath(),ot.forEach((function(t){var e=Zt.active[t];r.strokeStyle=t,r.beginPath(),e.forEach((function(t){t.visible&&(r.lineWidth=Zt.drawWidth,r.moveTo(t.x,t.y),r.lineTo(t.prevX,t.prevY),a.lineWidth=1,a.moveTo(t.x,t.y),a.lineTo(t.x-1.6*t.speedX,t.y-1.6*t.speedY))})),r.stroke()})),a.stroke(),r.lineWidth=Jt.drawWidth,r.lineCap="butt",ot.forEach((function(t){var e=Jt.active[t];r.strokeStyle=t,r.beginPath(),e.forEach((function(t){r.moveTo(t.x,t.y),r.lineTo(t.prevX,t.prevY)})),r.stroke()})),At){a.globalAlpha=At,a.fillStyle=J.Blue,a.fillRect(0,n-6,i*Z,6),a.globalAlpha=1}}(t,a)}}var Dt={r:0,g:0,b:0},Vt={r:0,g:0,b:0};function Wt(t,e,i,n,a){var r=e/i,s=t+e-.5*r;if(s>t)for(var o=t;o<s;o+=r)a(o+Math.random()*r*n);else for(var h=t;h>s;h+=r)a(h+Math.random()*r*n)}function Xt(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:K,a=.5*Math.sqrt(t/Math.PI),r=2*a*Math.PI,s=r/2,o=0;o<=s;o++)for(var h=o/s*Q,c=Math.cos(h),l=r*c,u=l*(n/K),f=K/l,d=Math.random()*f+i,p=.33*f,v=0;v<u;v++){var g=Math.random()*p,y=f*v+d+g;e(y,c)}}function _t(t){Xt(18,(function(e,i){Zt.add(t.x,t.y,t.color,e,2.4*i,1e3+300*Math.random(),t.speedX,t.speedY)})),Gt.add(t.x,t.y,46),Ht.playSound("burstSmall")}function qt(t){Xt(7,(function(e,i){var n=Zt.add(t.x,t.y,H,e,2.4*i,2400+600*Math.random(),t.speedX,t.speedY);n.sparkColor=J.Gold,n.sparkFreq=144,n.sparkSpeed=.28,n.sparkLife=750,n.sparkLifeVariation=3.2})),Gt.add(t.x,t.y,46),Ht.playSound("burstSmall")}var Bt=function(){function t(e){if(Object(n.a)(this,t),Object.assign(this,e),this.starLifeVariation=e.starLifeVariation||.125,this.color=e.color||ut(),this.glitterColor=e.glitterColor||this.color,!this.starCount){var i=e.starDensity||1,a=this.spreadSize/54;this.starCount=Math.max(6,a*a*i)}}return Object(a.a)(t,[{key:"launch",value:function(t,e){var i=this,n=_-.45*_,a=t*(X-120)+60,r=_,s=r-(n-e*(n-50)),o=Math.pow(.04*s,.64),h=this.comet=Zt.add(a,r,"string"===typeof this.color&&"random"!==this.color?this.color:J.White,Math.PI,o*(this.horsetail?1.2:1),o*(this.horsetail?100:400));h.heavy=!0,h.spinRadius=q.random(.32,.85),h.sparkFreq=32,h.sparkLife=320,h.sparkLifeVariation=3,("willow"===this.glitter||this.fallingLeaves)&&(h.sparkFreq=20,h.sparkSpeed=.5,h.sparkLife=500),this.color===H&&(h.sparkColor=J.Gold),Math.random()>.4&&!this.horsetail&&(h.secondColor=H,h.transitionTime=700*Math.pow(Math.random(),1.5)+500),h.onDeath=function(t){return i.burst(t.x,t.y)},Ht.playSound("lift")}},{key:"burst",value:function(e,i){var n,a,r,s,o,h=this,c=this.spreadSize/96,l=.25,u=!1;this.crossette&&(a=function(t){u||(Ht.playSound("crackleSmall"),u=!0),function(t){Wt(Math.random()*Q,K,4,.5,(function(e){Zt.add(t.x,t.y,t.color,e,.6*Math.random()+.75,600)}))}(t)}),this.crackle&&(a=function(t){u||(Ht.playSound("crackle"),u=!0),function(t){Wt(0,K,16,1.8,(function(e){Jt.add(t.x,t.y,J.Gold,e,2.4*Math.pow(Math.random(),.45),300+200*Math.random())}))}(t)}),this.floral&&(a=_t),this.fallingLeaves&&(a=qt),"light"===this.glitter?(r=400,s=.3,o=300,l=2):"medium"===this.glitter?(r=200,s=.44,o=700,l=2):"heavy"===this.glitter?(r=80,s=.8,o=1400,l=2):"thick"===this.glitter?(r=16,s=1.5,o=1400,l=3):"streamer"===this.glitter?(r=32,s=1.05,o=620,l=2):"willow"===this.glitter&&(r=120,s=.34,o=1400,l=3.8),r/=1;var f=function(t,u){var f=h.spreadSize/1800,d=Zt.add(e,i,n||ut(),t,u*c,h.starLife+Math.random()*h.starLife*h.starLifeVariation,h.horsetail?h.comet&&h.comet.speedX:0,h.horsetail?h.comet&&h.comet.speedY:-f);h.secondColor&&(d.transitionTime=h.starLife*(.05*Math.random()+.32),d.secondColor=h.secondColor),h.strobe&&(d.transitionTime=h.starLife*(.08*Math.random()+.46),d.strobe=!0,d.strobeFreq=20*Math.random()+40,h.strobeColor&&(d.secondColor=h.strobeColor)),d.onDeath=a,h.glitter&&(d.sparkFreq=r,d.sparkSpeed=s,d.sparkLife=o,d.sparkLifeVariation=l,d.sparkColor=h.glitterColor,d.sparkTimer=Math.random()*d.sparkFreq)};if("string"===typeof this.color)if(n="random"===this.color?null:this.color,this.ring){var d=Math.random()*Math.PI,p=.85*Math.pow(Math.random(),2)+.15;Wt(0,K,this.starCount,0,(function(t){var a=Math.sin(t)*c*p,u=Math.cos(t)*c,f=q.pointDist(0,0,a,u),v=q.pointAngle(0,0,a,u)+d,g=Zt.add(e,i,n,v,f,h.starLife+Math.random()*h.starLife*h.starLifeVariation);h.glitter&&(g.sparkFreq=r,g.sparkSpeed=s,g.sparkLife=o,g.sparkLifeVariation=l,g.sparkColor=h.glitterColor,g.sparkTimer=Math.random()*g.sparkFreq)}))}else Xt(this.starCount,f);else{if(!Array.isArray(this.color))throw new Error("Invalid shell color. Expected string or array of strings, but got: "+this.color);if(Math.random()<.5){var v=Math.random()*Math.PI,g=v+Math.PI,y=Math.PI;n=this.color[0],Xt(this.starCount,f,v,y),n=this.color[1],Xt(this.starCount,f,g,y)}else n=this.color[0],Xt(this.starCount/2,f),n=this.color[1],Xt(this.starCount/2,f)}this.pistil&&new t({spreadSize:.5*this.spreadSize,starLife:.6*this.starLife,starLifeVariation:this.starLifeVariation,starDensity:1.4,color:this.pistilColor,glitter:"light",glitterColor:this.pistilColor===J.Gold?J.Gold:J.White}).burst(e,i);this.streamers&&new t({spreadSize:.9*this.spreadSize,starLife:.8*this.starLife,starLifeVariation:this.starLifeVariation,starCount:Math.floor(Math.max(6,this.spreadSize/45)),color:J.White,glitter:"streamer"}).burst(e,i);if(Gt.add(e,i,this.spreadSize/4),this.comet){var m=.3*(1-Math.min(2,at()-this.shellSize)/2)+.7;Ht.playSound("burst",m)}}}]),t}(),Gt={active:[],_pool:[],_new:function(){return{}},add:function(t,e,i){var n=this._pool.pop()||this._new();return n.x=t,n.y=e,n.radius=i,this.active.push(n),n},returnInstance:function(t){this._pool.push(t)}};function Ut(){var t={};return ht.forEach((function(e){t[e]=[]})),t}var Zt={drawWidth:3,airDrag:.98,airDragHeavy:.992,active:Ut(),_pool:[],_new:function(){return{}},add:function(t,e,i,n,a,r,s,o){var h=this._pool.pop()||this._new();return h.visible=!0,h.heavy=!1,h.x=t,h.y=e,h.prevX=t,h.prevY=e,h.color=i,h.speedX=Math.sin(n)*a+(s||0),h.speedY=Math.cos(n)*a+(o||0),h.life=r,h.fullLife=r,h.spinAngle=Math.random()*K,h.spinSpeed=.8,h.spinRadius=0,h.sparkFreq=0,h.sparkSpeed=1,h.sparkTimer=0,h.sparkColor=i,h.sparkLife=750,h.sparkLifeVariation=.25,h.strobe=!1,this.active[i].push(h),h},returnInstance:function(t){t.onDeath&&t.onDeath(t),t.onDeath=null,t.secondColor=null,t.transitionTime=0,t.colorChanged=!1,this._pool.push(t)}},Jt={drawWidth:0,airDrag:.9,active:Ut(),_pool:[],_new:function(){return{}},add:function(t,e,i,n,a,r){var s=this._pool.pop()||this._new();return s.x=t,s.y=e,s.prevX=t,s.prevY=e,s.color=i,s.speedX=Math.sin(n)*a,s.speedY=Math.cos(n)*a,s.life=r,this.active[i].push(s),s},returnInstance:function(t){this._pool.push(t)}},Ht={baseURL:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/",ctx:new(window.AudioContext||window.webkitAudioContext),sources:{lift:{volume:1,playbackRateMin:.85,playbackRateMax:.95,fileNames:["lift1.mp3","lift2.mp3","lift3.mp3"]},burst:{volume:1,playbackRateMin:.8,playbackRateMax:.9,fileNames:["burst1.mp3","burst2.mp3"]},burstSmall:{volume:.25,playbackRateMin:.8,playbackRateMax:1,fileNames:["burst-sm-1.mp3","burst-sm-2.mp3"]},crackle:{volume:.2,playbackRateMin:1,playbackRateMax:1,fileNames:["crackle1.mp3"]},crackleSmall:{volume:.3,playbackRateMin:1,playbackRateMax:1,fileNames:["crackle-sm-1.mp3"]}},preload:function(){var t=this,e=[];function i(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}return Object.keys(this.sources).forEach((function(n){var a=t.sources[n],r=a.fileNames,s=[];r.forEach((function(n){var a=t.baseURL+n,r=fetch(a).then(i).then((function(t){return t.arrayBuffer()})).then((function(e){return new Promise((function(i){t.ctx.decodeAudioData(e,i)}))}));s.push(r),e.push(r)})),Promise.all(s).then((function(t){a.buffers=t}))})),Promise.all(e)},pauseAll:function(){this.ctx.suspend()},resumeAll:function(){var t=this;this.playSound("lift",0),setTimeout((function(){t.ctx.resume()}),250)},_lastSmallBurstTime:0,playSound:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e=q.clamp(e,0,1),it()&&!(Z<.95)){if("burstSmall"===t){var i=Date.now();if(i-this._lastSmallBurstTime<20)return;this._lastSmallBurstTime=i}var n=this.sources[t];if(!n)throw new Error('Sound of type "'.concat(t,"\" doesn't exist."));var a=n.volume,r=q.random(n.playbackRateMin,n.playbackRateMax),s=a*e,o=r*(2-e),h=this.ctx.createGain();h.gain.value=s;var c=q.randomChoice(n.buffers),l=this.ctx.createBufferSource();l.playbackRate.value=o,l.buffer=c,l.connect(h),h.connect(this.ctx.destination),l.start(0)}}},Kt=function(){function t(e,i){Object(n.a)(this,t),this.id="547846ad",this.effect=e;var a=e.width,r=e.height,s=e.ctx;X=a,_=r;var o=this.getConfigValue("shellType",1);this.fireworks=Object.keys(kt),this.context={dpr:window.devicePixelRatio||1,width:a,height:r,mainCtx:s,trailsCtx:s,shellType:kt[this.fireworks[o]]},Ht.preload(),Ot(),$.state.config.shell=this.fireworks[o],$.state.config.hideControls=!0,$.state.config.size=this.getConfigValue("shellSize",3),this.lag=this.getConfigValue("lag",5),Z=this.getConfigValue("speed",.2),this.timeStep=1}return Object(a.a)(t,[{key:"getDescriptor",value:function(){return{name:"Brilliant",id:this.id,config:{lag:1,speed:.2,shellSize:3,shellType:0},fireworks:this.fireworks}}},{key:"getConfigName",value:function(t){return"".concat(this.id,"#").concat(t)}},{key:"getConfigValue",value:function(t,e){return this.effect.getConfig()[this.getConfigName(t)]||e}},{key:"draw",value:function(){this.timeStep=(this.timeStep+1)%900,Yt(this.context,this.timeStep,this.lag)}},{key:"getShellTypeName",value:function(t){return this.fireworks[t]}},{key:"renderShellTypeOption",value:function(){var t=this,e=this.getConfigValue("shellType")||0;return c.a.createElement("div",{key:"".concat(this.id,"#shellType"),style:{margin:"8px 0"}},c.a.createElement("span",null,"Shell Type: ".concat(this.getShellTypeName(e))),c.a.createElement(S.a,{min:0,max:11,step:1,value:e,tipFormatter:function(e){return"".concat(t.getShellTypeName(e))},onChange:function(e){return t.effect.changeConfig(t.getConfigName("shellType"),e)}}))}},{key:"option",value:function(){return[this.renderShellTypeOption(),this.effect.renderOption(this.getConfigName("shellSize"),"Shell Size",1,10,1,3),this.effect.renderOption(this.getConfigName("lag"),"View Distance",1,20,1,5),this.effect.renderOption(this.getConfigName("speed"),"Speed",.1,1,.1,.2)]}}]),t}();var Qt=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){var a;return Object(n.a)(this,i),(a=e.call(this,t,"firework",{count:2})).event=a.event.bind(Object(r.a)(a)),a.done=!1,a.selectedFireworkIndexes=[],a.backgroundImage=new Image,a.backgroundImage.src="./image/toronto.jpg",a}return Object(a.a)(i,[{key:"getName",value:function(){return"Firework"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.fireworks||e){this.stars=[];for(var n=30;n--;)this.stars.push(new W(this.width,this.height));this.fireworks=[new Kt(this)],this.fireworkTick=Date.now()}}},{key:"cleanCanvas",value:function(t,e,i){t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, 0.15)",t.fillRect(0,0,e,i),t.globalCompositeOperation="lighter"}},{key:"drawBackground",value:function(t){t.globalCompositeOperation="darken";var e=this.backgroundImage;t.drawImage(this.backgroundImage,0,0,this.width,this.width*e.height/e.width)}},{key:"draw",value:function(){var t=this.ctx,e=this.width,i=this.height,n=this.fireworks;if(t){this.cleanCanvas(t,e,i),this.drawBackground(t);var a=Date.now(),r=a-this.fireworkTick;if(r>11500*n.length){if(n.length>1){if(this.currentFirework=void 0,!this.selectedFireworkIndexes.length)for(var s=0;s<Math.min(n.length,3);s++)this.selectedFireworkIndexes.push(E(0,n.length-1));this.selectedFireworkIndexes.forEach((function(t){n[t].draw()}))}(n.length<=1||r>11500*n.length+3e4)&&(this.fireworkTick=a,this.selectedFireworkIndexes=[])}else{var o=~~(r/11500);if(r<11500*o+1500)return;var h=n[o];this.currentFirework=h,h.draw()}}}},{key:"getCurrentFirework",value:function(){return this.currentFirework}},{key:"event",value:function(t,e){var i=this.getCurrentFirework();if(i&&i.event)i.event.call(i,t,e);else switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){var t=this.getCurrentFirework();return t&&t.option?[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[t.option()]):Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)}}]),i}(z),$t=Math.pow(80,2),te=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"pond",{drag:.8,ease:.25})}return Object(a.a)(i,[{key:"getName",value:function(){return"Pond"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.tick=0,this.mouseDragged=!1,this.center={x:0,y:0},this.particles=[];for(var n=~~(this.width/10),a=~~(this.height/10),r=0;r<a;r++)for(var s=0;s<n;s++){var o=10*s,h=10*r;this.particles.push({x:o,ox:o,y:h,oy:h,vx:0,vy:0,c:this.getRandChar()})}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.mouseDragged,n=this.width,a=this.height;if(t)if(this.tick++,this.tick%2){var r=this.getConfig(),s=r.drag,o=r.ease;if(!i){var h=.001*+new Date;this.center={x:.5*n+Math.cos(2.1*h)*Math.cos(.9*h)*n*.45,y:.5*a+Math.sin(3.2*h)*Math.tan(Math.sin(.8*h))*a*.45}}for(var c=0;c<e.length;c++){var l=e[c],u=this.center.x-l.x,f=this.center.y-l.y;if(u||f){var d=u*u+f*f,p=-$t/d;if(d<$t){var v=Math.atan2(f,u);l.vx+=p*Math.cos(v),l.vy+=p*Math.sin(v)}}l.vx*=s,l.vy*=s,l.x+=l.vx+(l.ox-l.x)*o,l.y+=l.vy+(l.oy-l.y)*o}}else{this.ctx.fillStyle="rgba(0, 255, 0, 0.7)",t.clearRect(0,0,n,a);for(var g=0;g<e.length;g++){var y=e[g];t.fillText(y.c,y.x,y.y)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.mouseDragged=!0,this.center=e}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("drag","Drag",.1,1,.05),this.renderOption("ease","Ease",.1,1,.05)])}}]),i}(z),ee=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;Object(n.a)(this,t),this.x=e,this.y=i,this.vx=a,this.vy=r,this.c=s,this.fontSize=Math.floor(20*Math.random())+15}return Object(a.a)(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x+=this.vx+t,this.y+=this.vy+e}}]),t}(),ie=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"bounce",{count:1e3})}return Object(a.a)(i,[{key:"getDescriptor",value:function(){return{name:"Bounce"}}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.particles=[];for(var n=this.getConfig().count,a=0;a<n;++a)this.particles.push(new ee(this.center.x,this.center.y,E(0,3)-1.5,E(0,3)-1.5,this.getRandChar()));this.ctx.fillStyle="rgba(0, 255, 0, 0.7)"}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height;if(t){t.clearRect(0,0,i,n);for(var a=0;a<e.length;++a){var r=e[a];r.x>0&&r.x<i&&r.y>0&&r.y<n?(t.font="".concat(r.fontSize,"px Consolas"),t.fillText(r.c,r.x,r.y)):((r.x<0&&r.vx<0||r.x>i&&r.vx>0)&&(r.vx=-1*r.vx),(r.y<0&&r.vy<0||r.y>n&&r.vy>0)&&(r.vy=-1*r.vy)),r.update()}}}},{key:"event",value:function(t,e){t}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Characters",10,1e3,1)])}}]),i}(z),ne=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"sphere",{sphereRad:280,radius_sp:1})}return Object(a.a)(i,[{key:"getName",value:function(){return"Sphere"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particleList||e){var n=this.width,a=this.height,r=this.getConfig().sphereRad;this.wait=1,this.count=this.wait-1,this.numToAddEachFrame=8,this.rgbString="rgba(70,255,140,",this.particleAlpha=1,this.fLen=320,this.projCenterX=n/2,this.projCenterY=a/2,this.zMax=this.fLen-2,this.particleList={},this.recycleBin={},this.randAccelX=.1,this.randAccelY=.1,this.randAccelZ=.1,this.gravity=-0,this.particleRad=2.5,this.sphereCenterX=0,this.sphereCenterY=0,this.sphereCenterZ=-3-r,this.zeroAlphaDepth=-750,this.turnSpeed=2*Math.PI/1200,this.turnAngle=0}}},{key:"draw",value:function(){if(this.ctx){this.count++;var t,e=this.ctx,i=this.width,n=this.height,a=this.particleList,r=this.randAccelX,s=this.randAccelY,o=this.randAccelZ,h=this.particleAlpha,c=this.zeroAlphaDepth,l=this.fLen,u=this.projCenterX,f=this.projCenterY,d=this.gravity,p=this.rgbString,v=this.count,g=this.wait,y=this.zMax,m=this.numToAddEachFrame,x=this.sphereCenterY,b=this.sphereCenterZ,k=this.getConfig(),w=k.sphereRad,O=k.radius_sp;if(v>=g){this.count=0;for(var M=0;M<m;M++){var C=2*Math.random()*Math.PI,S=Math.acos(2*Math.random()-1),j=w*Math.sin(S)*Math.cos(C),T=w*Math.sin(S)*Math.sin(C),E=w*Math.cos(S);(t=this.addParticle(j,x+T,b+E,.002*j,.002*T,.002*E)).attack=50,t.hold=50,t.decay=100,t.initValue=0,t.holdValue=h,t.lastValue=0,t.stuckTime=90+20*Math.random(),t.accelX=0,t.accelY=d,t.accelZ=0}}this.turnAngle=(this.turnAngle+this.turnSpeed)%(2*Math.PI);var z=Math.sin(this.turnAngle),R=Math.cos(this.turnAngle);for(e.fillStyle="#000000",e.fillRect(0,0,i,n),t=a.first;null!=t;){var L=t.next;t.age++,t.age>t.stuckTime&&(t.velX+=t.accelX+r*(2*Math.random()-1),t.velY+=t.accelY+s*(2*Math.random()-1),t.velZ+=t.accelZ+o*(2*Math.random()-1),t.x+=t.velX,t.y+=t.velY,t.z+=t.velZ),this.rotX=R*t.x+z*(t.z-b),this.rotZ=-z*t.x+R*(t.z-b)+b;var F=O*l/(l-this.rotZ);t.projX=this.rotX*F+u,t.projY=t.y*F+f,t.age<t.attack+t.hold+t.decay?t.age<t.attack?t.alpha=(t.holdValue-t.initValue)/t.attack*t.age+t.initValue:t.age<t.attack+t.hold?t.alpha=t.holdValue:t.age<t.attack+t.hold+t.decay&&(t.alpha=(t.lastValue-t.holdValue)/t.decay*(t.age-t.attack-t.hold)+t.holdValue):t.dead=!0;var I=!1;(t.projX>i||t.projX<0||t.projY<0||t.projY>n||this.rotZ>y)&&(I=!0),I||t.dead?this.recycle(t):(this.depthAlphaFactor=1-this.rotZ/c,this.depthAlphaFactor=this.depthAlphaFactor>1?1:this.depthAlphaFactor<0?0:this.depthAlphaFactor,e.fillStyle=p+this.depthAlphaFactor*t.alpha+")",e.beginPath(),e.font="".concat(t.fontSize,"px Consolas"),e.fillText(t.letter,t.projX,t.projY),e.closePath(),e.fill()),t=L}}}},{key:"addParticle",value:function(t,e,i,n,a,r){var s,o=this.particleList,h=this.recycleBin;return null!=h.first?null!=(s=h.first).next?(h.first=s.next,s.next.prev=null):h.first=null:s={},null==o.first?(o.first=s,s.prev=null,s.next=null):(s.next=o.first,o.first.prev=s,o.first=s,s.prev=null),s.x=t,s.y=e,s.z=i,s.velX=n,s.velY=a,s.velZ=r,s.age=0,s.dead=!1,Math.random()<.5?s.right=!0:s.right=!1,s.fontSize=E(8,20),s.letter=this.getRandChar(),s}},{key:"recycle",value:function(t){var e=this.particleList,i=this.recycleBin;e.first===t?null!=t.next?(t.next.prev=null,e.first=t.next):e.first=null:null==t.next?t.prev.next=null:(t.prev.next=t.next,t.next.prev=t.prev),null==i.first?(i.first=t,t.prev=null,t.next=null):(t.next=i.first,i.first.prev=t,i.first=t,t.prev=null)}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("sphereRad","Sphere Radius",20,500,1),this.renderOption("radius_sp","Radius Spaces",1,2,.01)])}}]),i}(z),ae=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"typewriter",{})}return Object(a.a)(i,[{key:"getName",value:function(){return"Monkey Typewriter"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.lines||e){this.startRow=0,this.currentRow=0,this.currentCol=0,this.lines=[];for(var n=0;n<1e3;n++)this.lines.push(this.getRandString())}}},{key:"clearPaint",value:function(t,e,i,n,a){t.globalCompositeOperation="source-over",t.shadowBlur=0,t.fillStyle="rgba(0,0,0,0.4)",t.fillRect(e,i,n,a)}},{key:"draw",value:function(){var t=this.ctx,e=this.width,i=this.height,n=this.lines,a=this.startRow,r=this.currentRow;if(t){this.clearPaint(t,0,0,e,i),t.shadowColor="rgba(0,255,0,0.5)",t.shadowBlur=10,t.fillStyle="#060",t.globalCompositeOperation="lighter";var s=this.currentCol;s>10&&Math.random()>.95&&(s-=5,this.currentCol=s);for(var o=n[r].substr(0,s),h=a;h<n.length&&!(h>r);h++){var c=h!==r?n[h]:o;t.fillText(c,16,16+20*(h-a))}t.filStyle="#0f0",t.fillRect(16+t.measureText(o).width,16+20*(r-a)-10,10,14),this.currentCol++,this.currentCol>=n[r].length&&(this.currentRow++,this.currentCol=0),r<n.length&&20*(r-a)>i-100&&this.startRow++}}}]),i}(z),re=function t(e,i,a,r,s){Object(n.a)(this,t),this.x=0,this.y=0,this.ox=e,this.oy=i,this.color=a,this.speed=r,this.sx=0,this.sy=0,this.c=s},se=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"tunnel",{})}return Object(a.a)(i,[{key:"getName",value:function(){return"Tunnel"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.particleSize=5,this.coef=0,this.particles=[];for(var n=1,a=384;a>=0;a--){var r=137.5077*Math.PI/180*a;a%5===0&&(n+=2);var s=n+6;this.particles.push(new re(Math.cos(r)*n,Math.sin(r)*n,"rgba(0, ".concat(12*s,", 0, 0.5)"),s,this.getRandChar()))}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height,a=this.center;this.coef,this.particleSize;if(t){t.clearRect(0,0,i,n);for(var r=384;r>=0;r--){var s=e[r];s.x+=(a.x-s.x)/s.speed,s.y+=(a.y-s.y)/s.speed,s.sx=Math.random(),s.sy=Math.random(),t.fillStyle=s.color,t.fillText(s.c,s.x+s.ox+s.sx,s.y+s.oy+s.sy)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":var i=e,n=this.width,a=this.height,r=n/2-i.x,s=a/2-i.y;this.coef=Math.sqrt(r*r+s*s)/((n+a)/14),i.y<.3*a&&this.particleSize>1&&this.particleSize--,i.y>.7*a&&this.particleSize<10&&this.particleSize++,this.center=i}}}]),i}(z),oe=function t(e,i,a,r,s,o,h){Object(n.a)(this,t),this.a={x:e,y:i,z:a},this.b={x:r,y:s,z:o},this.c=h},he=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"wave",{Y:1,U:-100,V:-100,amplitude:9})}return Object(a.a)(i,[{key:"getName",value:function(){return"Wave"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){var n=this.getConfig(),a=n.Y,r=n.U,s=n.V;t.width=2e3,t.height=1126,this.W=0,this.T=0,this.Y=a,this.U=r,this.V=s,this.particles=[];for(var o=-18;o<=18;++o)for(var h=-18;h<=18;++h)this.particles.push(this.C(6*o,0,6*h,this.getRandChar()))}}},{key:"draw",value:function(){var t=this,e=this.canvas,i=this.ctx,n=this.particles,a=this.T,r=this.V,s=this.W;if(i){var o=Math.sin,h=Math.cos,c=Math.PI,l=Math.sqrt,u=Math.atan2;i.fillStyle="#000",i.fillRect(0,0,e.width,e.height);var f=l(a*a+r*r),d=h(s/80)/200,p=u(a,r)+d;this.T=o(p)*f,this.V=h(p)*f,this.yw=c+p;var v=this.getConfig().amplitude;n.forEach((function(e){var n=e.x,a=e.y,r=e.z;e.y=o(l(n*n+r*r)/16-s/15)*v+5,i.font="30px Consolas",i.fillStyle="rgba(0, 255, 0, 0.7)";var h=t.R(n,a,r);i.fillText(e.c,h.x,h.y)})),this.W++}}},{key:"R",value:function(t,e,i){var n=this.getConfig().amplitude,a=Math.sin,r=Math.cos,s=Math.sqrt,o=Math.atan2,h=this.T,c=this.U,l=this.V,u=this.Y,f=this.yw;e-=c;var d=o(t-=h,i-=l),p=s(i*i+t*t);t=a(d-f)*p,d=o(e,i=r(d-f)*p),p=s(e*e+i*i),e=a(d-u)*p;var v=-n;i=r(d-u)*p;return{x:1e3+900*(v+(1*(t-0)-(i-0)*(v-0))/((i-0)*(n-v)-(t-0)*((p=1)-1))*(n-v)),y:563+e/i*900}}},{key:"C",value:function(t,e,i,n){var a={};return a.c=n,a.x=t,a.y=e,a.z=i,a.s=[],a.s.push(this.addParticle(-1,-1,-1,1,-1,-1)),a.s.push(this.addParticle(1,-1,-1,1,1,-1)),a.s.push(this.addParticle(1,1,-1,-1,1,-1)),a.s.push(this.addParticle(-1,1,-1,-1,-1,-1)),a.s.push(this.addParticle(-1,-1,1,1,-1,1)),a.s.push(this.addParticle(1,-1,1,1,1,1)),a.s.push(this.addParticle(1,1,1,-1,1,1)),a.s.push(this.addParticle(-1,1,1,-1,-1,1)),a.s.push(this.addParticle(-1,-1,-1,-1,-1,1)),a.s.push(this.addParticle(1,-1,-1,1,-1,1)),a.s.push(this.addParticle(1,1,-1,1,1,1)),a.s.push(this.addParticle(-1,1,-1,-1,1,1)),a}},{key:"addParticle",value:function(t,e,i,n,a,r){return new oe(t,e,i,n,a,r,this.getRandChar())}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("amplitude","Amplitude",1,18,1)])}}]),i}(z);var ce=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"fishy",{count:90})}return Object(a.a)(i,[{key:"getName",value:function(){return"Fishy"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.fish||e){var n=this.getConfig().count;this.maxMass=2e4,this.padding=50,this.fish=Object(O.a)(Array(n)).map((function(){var t=Math.random(),e="\ud83d\udc1f";return t>.6&&t<.9?e="\ud83d\udc20":t>=.9&&t<.95?e="\ud83d\udc19":t>=.95&&(e="\ud83d\udc21"),{energy:0,c:e}})),this.lastTime=Date.now(),this.trail=0}}},{key:"draw",value:function(){var t=this,e=this.ctx,i=this.width,n=this.height,a=(this.trail,this.padding),r=this.maxMass;if(e){var s=Date.now(),o=(s-this.lastTime)/1e3;this.lastTime=s;var h=[i+2*a,n+2*a],c=h[1]/1e3;e.fillStyle="#000",e.fillRect(0,0,i,n);var l=0,u=0;this.fish.map((function(i,n){var s=[[0,0,1e-8],[0,0,1e-8],[0,0,1e-8]];if(i.energy<=0)return i.p=h.map((function(t,e){return t*Math.random()})),i.v=[0,0],i.mass=i.energy=1,void(i.radius=0);t.fish.forEach((function(t){if(i!==t){var e=0,n=h.map((function(n,a){var r=t.p[a]-i.p[a];return r<-n/2&&(r+=n),r>n/2&&(r-=n),e+=r*r,r}));e=Math.sqrt(e)/c;var a=(i.mass-t.mass)/(i.mass+t.mass)>.2,o=-(i.mass-t.mass)/(i.mass+t.mass)>.2,f=!a&&!o;f&&(u=.1+(e<500),l=0,s[0][l]+=(n[l]+t.v[l]-i.v[l])*u,l++,s[0][l]+=(n[l]+t.v[l]-i.v[l])*u,s[0][2]+=2*u),(f&&e<4*i.radius||o&&e<200)&&(u=Math.max(1,200-e),l=0,s[1][l]-=n[l]/e*u*400,l++,s[1][l]-=n[l]/e*u*400,s[1][2]+=u),a&&(u=Math.max(1,300-e)*t.mass,l=0,s[2][l]+=n[l]/e*u*250,l++,s[2][l]+=n[l]/e*u*250,s[2][2]+=u),a&&e<1.1*i.radius&&(i.mass=Math.min(r,i.mass+t.mass),i.energy=Math.min(1,i.energy+t.mass/i.mass),t.energy=0),i.type=a?1:o?2:3}})),s.map((function(t){l=0,i.v[l]+=t[l]/t[2]*o*(110-i.radius)/110*c,l++,i.v[l]+=t[l]/t[2]*o*(110-i.radius)/110*c})),l=0,i.v[l]*=Math.pow(.55,o),l++,i.v[l]*=Math.pow(.55,o),l=0,i.p[l]=(i.p[l]+i.v[l]*o+h[l])%h[l],l++,i.p[l]=(i.p[l]+i.v[l]*o+h[l])%h[l],i.mass=Math.min(r,i.mass+o*(n/5)),i.energy-=o/50,i.radius=Math.sqrt(i.mass/Math.PI),e.save(),1!==i.type?(e.translate(i.p[0]-a,i.p[1]-a),e.rotate(-Math.atan2.apply(Math,Object(O.a)(i.v))+3*Math.PI/2),e.font="".concat(1.5*i.radius,"px Consolas"),e.fillText(i.c,-1,-1)):(e.translate(i.p[0]-a,i.p[1]-a),e.scale(i.radius*c,i.radius*c),e.rotate(-Math.atan2.apply(Math,Object(O.a)(i.v))),e.beginPath(),e.moveTo(-1.1,-1.5),e.bezierCurveTo(1.5,-.8,1.5,.8,0,1.5),e.bezierCurveTo(-1.5,.8,-1.5,-.8,1.1,-1.5),e.fillStyle="hsl(".concat(80-i.radius,",100%,").concat(50*i.energy,"%)"),e.fill()),e.restore()}))}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":break;case"event@mouse-clicked":this.trail=!this.trail}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Fish",50,300,1)])}}]),i}(z),le=i(11);function ue(t,e,i){return(1-i)*t+i*e}var fe={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200},de=function(){function t(e,i,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(n.a)(this,t),this.config=Object(le.a)(Object(le.a)({},fe),r);var s=this.config,o=s.color,h=s.radius,c=s.wind,l=s.speed;this.params={color:o,c:a,x:E(0,e),y:E(-i,0),radius:E.apply(void 0,Object(O.a)(h)),speed:E.apply(void 0,Object(O.a)(l)),wind:E.apply(void 0,Object(O.a)(c)),nextSpeed:E.apply(void 0,Object(O.a)(c)),nextWind:E.apply(void 0,Object(O.a)(l)),angle:E(0,360)},this.framesSinceLastUpdate=0}return Object(a.a)(t,[{key:"draw",value:function(t){var e,i=this.config.color,n=this.params,a=n.x,r=n.y,s=n.c,o=n.angle,h=n.radius;if(t.fillStyle=i,h<.75?(t.beginPath(),t.arc(a,r,h,0,2*Math.PI),t.fillStyle=i,t.closePath(),t.fill()):h<2?(e=s,t.fillStyle="rgba(0, 255, 0, 0.5)"):h<2.25?(e="\u2745",this.params.angle+=3):h<2.5?(e="\u274a",this.params.angle-=3):h<2.75?(e="\u2749",this.params.angle+=3):(e="\u2746",this.params.angle-=3),e){t.save();var c=17*h/(this.config.radius[1]-this.config.radius[0]);t.font="".concat(c,"px Consolas"),t.translate(a,r),t.rotate(Math.PI*o/180),t.fillText(e,h,h),t.restore()}}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.params,n=i.x,a=i.y,r=i.wind,s=i.speed,o=i.nextWind,h=i.nextSpeed;this.params.x=(n+r*e)%t.offsetWidth,this.params.y=(a+s*e)%t.offsetHeight,this.params.speed=ue(s,h,.01),this.params.wind=ue(r,o,.01),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}},{key:"updateTargetParams",value:function(){this.params.nextSpeed=E.apply(void 0,Object(O.a)(this.config.speed)),this.params.nextWind=E.apply(void 0,Object(O.a)(this.config.wind))}},{key:"update",value:function(t,e){this.translate(t,e)}}]),t}(),pe=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"snowflake",{count:150,wind:2.5})}return Object(a.a)(i,[{key:"getName",value:function(){return"Snow Flake"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.flakes||e){var n=this.getConfig(),a=n.count,r=n.wind,s={wind:[-r/5,4*r/5]};this.flakes=[];for(var o=0;o<a;o++)this.flakes.push(new de(this.width,this.height,this.getRandChar(),s))}}},{key:"draw",value:function(){var t=this.canvas,e=this.ctx,i=this.flakes;e&&(i.forEach((function(e){return e.update(t,1)})),e.clearRect(0,0,t.offsetWidth,t.offsetHeight),i.forEach((function(t){return t.draw(e)})))}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Snowflakes",10,300,1),this.renderOption("wind","Wind",2.5,25,.5)])}}]),i}(z),ve=function(){function t(e,i,a){Object(n.a)(this,t),this.c=a,this.x=e,this.y=i,this.px=e,this.py=i,this.vx=0,this.vy=0,this.pin_x=null,this.pin_y=null,this.constraints=[]}return Object(a.a)(t,[{key:"update",value:function(t,e,i){if(t.down){var n=this.x-t.x,a=this.y-t.y,r=Math.sqrt(n*n+a*a);1===t.button?r<20&&(this.px=this.x-1.8*(t.x-t.px),this.py=this.y-1.8*(t.y-t.py)):r<5&&(this.constraints=[])}this.add_force(0,i),e*=e;var s=this.x+.99*(this.x-this.px)+this.vx/2*e,o=this.y+.99*(this.y-this.py)+this.vy/2*e;this.px=this.x,this.py=this.y,this.x=s,this.y=o,this.vy=this.vx=0}},{key:"draw",value:function(t){if(this.constraints.length){for(var e=this.constraints.length;e--;)this.constraints[e].draw(t);t.fillText(this.c,this.x-4,this.y+4)}}},{key:"resolve_constraints",value:function(t,e){if(null!=this.pin_x&&null!=this.pin_y)return this.x=this.pin_x,void(this.y=this.pin_y);for(var i=this.constraints.length;i--;)this.constraints[i].resolve();this.x>t?this.x=2*t-this.x:1>this.x&&(this.x=2-this.x),this.y<1?this.y=2-this.y:this.y>e&&(this.y=2*e-this.y)}},{key:"attach",value:function(t){this.constraints.push(new ge(this,t))}},{key:"remove_constraint",value:function(t){this.constraints.splice(this.constraints.indexOf(t),1)}},{key:"add_force",value:function(t,e){this.vx+=t,this.vy+=e;this.vx=~~(400*this.vx)/400,this.vy=~~(400*this.vy)/400}},{key:"pin",value:function(t,e){this.pin_x=t,this.pin_y=e}}]),t}(),ge=function(){function t(e,i){Object(n.a)(this,t),this.p1=e,this.p2=i,this.length=16}return Object(a.a)(t,[{key:"resolve",value:function(){var t=this.p1.x-this.p2.x,e=this.p1.y-this.p2.y,i=Math.sqrt(t*t+e*e),n=(this.length-i)/i;i>60&&this.p1.remove_constraint(this);var a=t*n*.5,r=e*n*.5;this.p1.x+=a,this.p1.y+=r,this.p2.x-=a,this.p2.y-=r}},{key:"draw",value:function(t){var e=this.p1,i=this.p2;t.moveTo(e.x,e.y),t.lineTo(i.x,i.y)}}]),t}(),ye=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"curtain",{gravity:1200})}return Object(a.a)(i,[{key:"getName",value:function(){return{name:"Tearable Curtain"}}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.points||e){var n=this.ctx,a=this.width,r=this.height;n.strokeStyle="#888",n.fillStyle="#0f0",n.font="16px Consolas",this.mouse={down:!1,button:1,x:0,y:0,px:0,py:0},this.points=[];for(var s=~~((r-40)/20),o=~~((a-40)/20),h=a/2-16*o/2,c=0;c<=s;c++)for(var l=0;l<=o;l++){var u=new ve(h+16*l,20+16*c,this.getRandChar());0!==l&&u.attach(this.points[this.points.length-1]),0===c&&u.pin(u.x,u.y),0!==c&&u.attach(this.points[l+(c-1)*(o+1)]),this.points.push(u)}}}},{key:"draw",value:function(){var t=this.ctx,e=this.points,i=this.width,n=this.height;if(t){t.clearRect(0,0,i,n),this.update(),t.beginPath(),t.fillStyle="rgba(0, 255, 0, 0.7)";for(var a=e.length;a--;)e[a].draw(t);t.stroke()}}},{key:"update",value:function(){for(var t=this.mouse,e=this.width,i=this.height,n=this.getConfig().gravity,a=3;a--;)for(var r=this.points.length;r--;)this.points[r].resolve_constraints(e-1,i-1);for(a=this.points.length;a--;)this.points[a].update(t,.016,n)}},{key:"event",value:function(t,e){var i=this.mouse;switch(t){case"event@mouse-moved":i.px=i.x,i.py=i.y,i.x=e.x,i.y=e.y;break;case"event@mouse-clicked":i.px=i.x,i.py=i.y,i.x=e.x,i.y=e.y,i.down=!0}}},{key:"option",value:function(){return[].concat(Object(O.a)(Object(M.a)(Object(C.a)(i.prototype),"option",this).call(this)),[this.renderOption("gravity","Gravity",100,2e3,1)])}}]),i}(z),me=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){return Object(n.a)(this,i),e.call(this,t,"lightning",{count:500})}return Object(a.a)(i,[{key:"getName",value:function(){return"Lightning"}},{key:"init",value:function(t,e){if(Object(M.a)(Object(C.a)(i.prototype),"init",this).call(this,t,e),!this.lightning||e){this.lightTimeCurrent=0,this.lightTimeTotal=50,this.lightning=[];var n=this.ctx,a=this.width,r=this.height,s="hsl(180, 80%, 80%)";n.globalCompositeOperation="lighter",n.strokeStyle=s,n.shadowColor=s,n.fillStyle=s,n.fillRect(0,0,a,r),n.fillStyle="hsla(0, 0%, 10%, 0.2)",this.lightningTime=Date.now()}}},{key:"draw",value:function(){var t=this.ctx,e=this.width,i=this.height;if(t){t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0,0,0,"+E(1,30)/100+")",t.fillRect(0,0,e,i),t.globalCompositeOperation="source-over";var n=Date.now(),a=n-this.lightningTime;a<200?(this.updateLightning(),this.lightningTimer(),this.drawLightning()):a>E(500,1500)&&(this.lightningTime=n)}}},{key:"createLightning",value:function(t,e,i){this.lightning.push({x:t,y:e,xRange:E(5,30),yRange:E(5,25),path:[{x:t,y:e}],pathLimit:E(10,35),canSpawn:i,hasFired:!1})}},{key:"updateLightning",value:function(){for(var t=this.lightning,e=t.length;e--;){var i=t[e];i.path.push({x:i.path[i.path.length-1].x+(E(0,i.xRange)-i.xRange/2),y:i.path[i.path.length-1].y+E(0,i.yRange)}),i.path.length>i.pathLimit&&t.splice(e,1),i.hasFired=!0}}},{key:"drawLightning",value:function(){for(var t=this.ctx,e=this.width,i=this.height,n=this.lightning,a=n.length;a--;){var r=n[a];t.strokeStyle="hsla(0, 100%, 100%, "+E(10,100)/100+")",t.lineWidth=1,0===E(0,30)&&(t.lineWidth=2),0===E(0,60)&&(t.lineWidth=3),0===E(0,90)&&(t.lineWidth=4),0===E(0,120)&&(t.lineWidth=5),0===E(0,150)&&(t.lineWidth=6),t.beginPath();var s=r.path.length;t.moveTo(r.x,r.y);for(var o=0;o<s;o++)t.lineTo(r.path[o].x,r.path[o].y),r.canSpawn&&0===E(0,100)&&(r.canSpawn=!1,this.createLightning(r.path[o].x,r.path[o].y,!1));r.hasFired||(t.fillStyle="rgba(255, 255, 255, "+E(4,12)/100+")",t.fillRect(0,0,e,i)),0===E(0,30)&&(t.fillStyle="rgba(255, 255, 255, "+E(1,3)/100+")",t.fillRect(0,0,e,i)),t.stroke()}}},{key:"lightningTimer",value:function(){if(this.lightTimeCurrent++,this.lightTimeCurrent>=this.lightTimeTotal){for(var t=E(100,this.width-100),e=E(0,this.height/2),i=E(1,3);i--;)this.createLightning(t,e,!0);this.lightTimeCurrent=0,this.lightTimeTotal=E(30,100)}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center={x:e.x,y:1}}}}]),i}(z),xe=function(t){Object(s.a)(i,t);var e=Object(o.a)(i);function i(t){var a;return Object(n.a)(this,i),(a=e.call(this,t)).effects=[new V(w),new me(w),new pe(w),new ye(w),new he(w),new se(w),new te(w),new ce(w),new ae(w),new Qt(w),new I(w),new ne(w),new ie(w),new L(w),new Y(w),new A(w)],window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}},window.cancelAnimFrame=function(t){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}},a.initEffect=a.initEffect.bind(Object(r.a)(a)),a.drawEffect=a.drawEffect.bind(Object(r.a)(a)),a.onChangeEffectOption=a.onChangeEffectOption.bind(Object(r.a)(a)),a.onSelectEffect=a.onSelectEffect.bind(Object(r.a)(a)),a.onToggleOptionBar=a.onToggleOptionBar.bind(Object(r.a)(a)),a.onEvent=a.onEvent.bind(Object(r.a)(a)),a}return Object(a.a)(i,[{key:"componentDidMount",value:function(t){var e=this;(function(){return b.apply(this,arguments)})().then((function(){!function(){var t=Object(y.a)("particles#pref");m.optionExpanded=(null===t||void 0===t?void 0:t.optionExpanded)||!1,m.effectIndex=(null===t||void 0===t?void 0:t.effectIndex)||0,m.options=(null===t||void 0===t?void 0:t.options)||{evenFontSize:!0,fontSize:15,evenSpeed:!0,speed:120,patternIndex:0}}(),e.raf&&cancelAnimationFrame(e.raf),e.raf=requestAnimationFrame(e.drawEffect),e.selectElement&&(e.selectElement.value=w.effectIndex)})),Object(d.b)("effects",this.onEvent)}},{key:"componentWillUnmount",value:function(){this.raf&&cancelAnimationFrame(this.raf),k(),Object(d.c)("effects",this.onEvent)}},{key:"onEvent",value:function(t,e){switch(console.log("effects: ".concat(t)),t){case"event@mouse-down":case"event@mouse-clicked":case"event@mouse-moved":case"event@mouse-up":this.canvas&&this.getEffect().event(t,{x:e.x-this.canvas.offsetLeft,y:e.y-this.canvas.offsetTop});break;case"event@effect-config-changed":this.getEffect().init(this.canvas,!0),this.forceUpdate()}}},{key:"onChangeEffectOption",value:function(t,e){w.options[t]=e,this.initEffect(this.canvas,!0),k(),this.forceUpdate()}},{key:"onSelectEffect",value:function(t){w.effectIndex=t,k(),this.getEffect(t).init(this.canvas,!0),this.forceUpdate()}},{key:"onToggleOptionBar",value:function(t){w.optionExpanded=!w.optionExpanded,this.forceUpdate()}},{key:"getEffect",value:function(t){return this.effects[t||w.effectIndex%this.effects.length]}},{key:"initEffect",value:function(t){t&&(this.canvas=t,this.getEffect().init(t))}},{key:"drawEffect",value:function(){this.canvas&&(this.getEffect().draw(),requestAnimationFrame(this.drawEffect))}},{key:"renderOptionBar",value:function(){var t=w.optionExpanded?u.a:f.a;return c.a.createElement("div",{className:"underline",style:{display:"flex",width:"100%",margin:"8px 0"},onClick:this.onToggleOptionBar},c.a.createElement("span",null,"Options"),c.a.createElement("span",{style:{flex:"auto"}}),c.a.createElement(t,{style:{color:"#1890ff",alignSelf:"center"}}))}},{key:"renderEffectOption",value:function(){var t=this;return c.a.createElement("div",{key:"effect#selection",className:"underline",style:{padding:"0 0 8px 0"}},c.a.createElement("span",null,"Effects"),c.a.createElement(l.a,{ref:function(e){return t.selectElement=e},style:{width:250,margin:"0 0 0 8px"},defaultValue:w.effectIndex,placeholder:"Select an effect",onChange:function(e){return t.onSelectEffect(e)}},this.effects.map((function(t,e){return c.a.createElement(l.a.Option,{key:"pattern#".concat(e),value:e},"".concat(t.getName()))}))))}},{key:"renderOptions",value:function(){var t,e=[this.renderEffectOption()],i=null===(t=this.getEffect())||void 0===t?void 0:t.option();return i&&e.push(i),e}},{key:"renderEffect",value:function(){var t=this;return c.a.createElement("canvas",{ref:function(e){return t.initEffect(e)},style:{width:"100%",height:"100%",background:"black"},onMouseDown:function(e){return t.onEvent("event@mouse-down",{x:e.clientX,y:e.clientY})},onMouseMove:function(e){return t.onEvent("event@mouse-moved",{x:e.clientX,y:e.clientY})},onMouseUp:function(e){return t.onEvent("event@mouse-up",{x:e.clientX,y:e.clientY})},onClick:function(e){return t.onEvent("event@mouse-clicked",{x:e.clientX,y:e.clientY})},onTouchStart:function(e){return t.onEvent("event@mouse-down",{x:e.clientX,y:e.clientY})},onTouchMove:function(e){return t.onEvent("event@mouse-moved",{x:e.clientX,y:e.clientY})},onMouseEnd:function(e){return t.onEvent("event@mouse-up",{x:e.clientX,y:e.clientY})}})}},{key:"render",value:function(){var t=w.optionExpanded;return c.a.createElement("div",{style:{display:"flex",height:"100%"}},c.a.createElement("div",{className:"component-box"},c.a.createElement("div",{className:"component-innerbar"},this.renderOptionBar(),t&&c.a.createElement("div",{style:{margin:"8px"}},this.renderOptions())),c.a.createElement("div",{style:{flex:"auto"}},this.renderEffect())),c.a.createElement("div",{className:"component-sidebar"},this.renderOptions()))}}]),i}(c.a.Component);e.default=xe},133:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage";if(e in window){var i=window[e].getItem(t);if(i)return console.log("storage->".concat(t,": ").concat(i.substr(0,64),"...")),JSON.parse(i)}}function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"localStorage";if(void 0!==e&&null!==e&&i in window){var n=JSON.stringify(e);console.log("storage<- ".concat(t,": ").concat(n.substr(0,64),"...")),window[i].setItem(t,n)}}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}))}}]);
//# sourceMappingURL=14.59e84626.chunk.js.map