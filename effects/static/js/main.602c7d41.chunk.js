(this["webpackJsonpstunning-effects"]=this["webpackJsonpstunning-effects"]||[]).push([[0],{104:function(t,e,i){},133:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),s=i(27),r=i.n(s),h=(i(51),i(104),i(105),i(83)),o=[];function c(t,e){console.log('event: "'.concat(t,'" subscribed')),o.push({name:t,handler:e})}function l(t,e){var i=o.filter((function(i){return!(i.name===t&&i.handler===e)}));i.length!==o.length?(console.log('event: "'.concat(t,'" unsubscribed')),o=i):console.log('event: failed to unsubscribe "'.concat(t,'"'))}function u(t,e){var i,n=Object(h.a)(o);try{for(n.s();!(i=n.n()).done;){i.value.handler(t,e)}}catch(a){n.e(a)}finally{n.f()}}var f=i(6),v=i(8),p=i(29),d=i(11),y=i(10),g=i(138),m=i(141),x=i(139),b=i(70),O=i.n(b),w=i(84);var k={effectIndex:0,options:{},optionOpended:!1,pieces:[]},j=!1;function C(){return(C=Object(w.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j){t.next=2;break}return t.abrupt("return");case 2:j=!0;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){var t={optionOpended:k.optionOpended,effectIndex:k.effectIndex,options:k.options};""!==JSON.stringify(t)&&function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"localStorage";if(void 0!==e&&null!==e&&i in window){var n=JSON.stringify(e);console.log("storage<- ".concat(t,": ").concat(n.substr(0,64),"...")),window[i].setItem(t,n)}}("firework#pref",t)}function E(){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage";if(e in window){var i=window[e].getItem(t);if(i)return console.log("storage->".concat(t,": ").concat(i.substr(0,64),"...")),JSON.parse(i)}}("firework#pref");k.optionOpended=!1,k.effectIndex=(null===t||void 0===t?void 0:t.effectIndex)||0,k.options=(null===t||void 0===t?void 0:t.options)||{}}var M=k,R=i(13),T=i(9),z=i(7),P=i(136);function F(t,e,i){var n=t.getContext("2d"),a=function(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}(n);return t.width=e*a,t.height=i*a,t.style.width=e+"px",t.style.height=i+"px",n.setTransform(a,0,0,a,0,0),t}var A=[{name:"ASCII characters",characters:""},{name:"0,1",characters:"01"},{name:"alphanumeric",characters:"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"},{name:"symbols",characters:"~!@#$%^&*()_+`_-=[]\\;',./{}|:\"<>?"},{name:"currency",characters:"\u20a0\u20a1\u20a2\u20a3\u20a4\u20a5\u20a6\u20a7\u20a8\u20a9\u20aa\u20ab\u20ac\u20ad\u20ae\u20af\u20b0\u20b1\u20b2\u20b3\u20b4\u20b5\u20b6\u20b7\u20b8\u20b9\u20ba\u20bb\u20bc\u20bd\u20be\u20bf"},{name:"katakana",characters:"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e642\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\u3105\u3106\u3107\u3108\u3109\u310a\u310b\u310c\u310d\u310e\u310f\u3110\u3112\u3113\u3114\u3115\u3117\u3118\u3119\u311a\u311b\u311c\u311d\u311e\u3120\u3121\u3122\u3123\u3124\u3125\u3126\u3128\u3129\u312a\u312b\u312c"}];function D(t,e){var i=Math.random()*(e-t)+t;return Number.isInteger(t)&&Number.isInteger(e)?Math.floor(i):i}var Y=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(f.a)(this,t),this.configName=i,this.store=e,e[i]||(e[i]=n),void 0===e[i].patternIndex&&(e[i].patternIndex=0)}return Object(v.a)(t,[{key:"getDescriptor",value:function(){return{name:"Effect"}}},{key:"init",value:function(t,e){var i=t.getBoundingClientRect(),n=i.width,a=i.height;this.width=~~n,this.height=~~a,(this.canvas!==t||e)&&(F(t,n,a),this.canvas=t,this.ctx=t.getContext("2d"),this.center&&!e||(this.center={x:n/2,y:a/2}),this.ctx.font="15px Consolas",this.ctx.fillStyle="rgba(0, 255, 0, 0.7)")}},{key:"draw",value:function(){}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){var t=this,e=this.getConfig().patternIndex;return[a.a.createElement("div",{key:"".concat(this.configName,"#pattern"),className:"underline",style:{padding:"0 0 8px 0"}},a.a.createElement("span",null,"Character pattern"),a.a.createElement(g.a,{style:{width:250},defaultValue:e,placeholder:"Select a pattern",onChange:function(e){t.changeConfig("patternIndex",e)}},A.map((function(t,e){return a.a.createElement(g.a.Option,{key:"pattern#".concat(e),value:e},"".concat(t.name))}))))]}},{key:"renderOption",value:function(t,e,i,n,s,r){var h=this,o=this.getConfig()[t]||r;return a.a.createElement("div",{key:"".concat(this.configName,"#").concat(t),style:{margin:"8px 0"}},a.a.createElement("span",null,"".concat(e,": ").concat(o)),a.a.createElement(P.a,{min:i,max:n,step:s,value:o,tipFormatter:function(t){return"".concat(t)},onChange:function(e){return h.changeConfig(t,e)}}))}},{key:"getConfig",value:function(){return this.store[this.configName]}},{key:"changeConfig",value:function(t,e){this.getConfig()[t]=e,u("event@effect-config-changed")}},{key:"getRandChar",value:function(){var t=A[this.getConfig().patternIndex].characters;if(t.length)return t[Math.floor(Math.random()*t.length)];var e=Math.floor(94*Math.random())+33;return String.fromCharCode(parseInt(e))}},{key:"getRandString",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=[],i=Math.floor(Math.random()*t)+1,n=0;n<i;n++)e.push(this.getRandChar());return e.join("")}}]),t}(),I=function(){function t(e,i,n){Object(f.a)(this,t),this.x=this.oldX=e,this.y=this.oldY=i,this.c=n}return Object(v.a)(t,[{key:"getVelocity",value:function(){return{x:this.x-this.oldX,y:this.y-this.oldY}}},{key:"integrate",value:function(t){var e=this.getVelocity();this.oldX=this.x,this.oldY=this.y,this.x+=e.x*t,this.y+=e.y*t}},{key:"attract",value:function(t,e){var i=t-this.x,n=e-this.y,a=Math.sqrt(i*i+n*n);this.x+=i/a,this.y+=n/a}},{key:"drawCharacter",value:function(t){t.fillStyle="#0f0",t.fillText(this.c,this.x,this.y)}},{key:"drawTrace",value:function(t){t.strokeStyle="#0099ff",t.lineWidth=2,t.beginPath(),t.moveTo(this.oldX,this.oldY),t.lineTo(this.x,this.y),t.stroke()}},{key:"draw",value:function(t){this.drawCharacter(t)}}]),t}(),X=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"trace",{damping:.999,count:200})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Oscillation"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){var n=this.width,a=this.height,s=this.getConfig().count;this.particles=[];for(var r=0;r<s;r++){var h=D(0,n),o=D(0,a),c=this.getRandChar();this.particles.push(new I(h,o,c))}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height,a=this.center;if(t){var s=this.getConfig();t.clearRect(0,0,i,n);for(var r=0;r<e.length;r++){var h=e[r];h.attract(a.x,a.y),h.integrate(s.damping),h.draw(t)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":this.center=e;break;case"event@mouse-clicked":this.center=e,this.init(this.canvas,!0)}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Characters",10,1e3,1),this.renderOption("damping","Damping",.1,1,.01)])}}]),i}(Y),W=function(){function t(e,i,n){Object(f.a)(this,t),this.x=this.oldX=e,this.y=this.oldY=i,this.c=n}return Object(v.a)(t,[{key:"getVelocity",value:function(){return{x:this.x-this.oldX,y:this.y-this.oldY}}},{key:"integrate",value:function(){var t=this.getVelocity();this.oldX=this.x,this.oldY=this.y,this.x+=.999*t.x,this.y+=.999*t.y}},{key:"move",value:function(t,e){this.x+=t,this.y+=e}},{key:"bounce",value:function(t){if(this.y>t){var e=this.getVelocity();this.oldY=t,this.y=this.oldY-.3*e.y}}},{key:"drawCharacter",value:function(t){t.fillStyle="#0f0",t.fillText(this.c,this.x,this.y)}},{key:"drawTrace",value:function(t){t.strokeStyle="#0099ff",t.lineWidth=2,t.beginPath(),t.moveTo(this.oldX,this.oldY),t.lineTo(this.x,this.y),t.stroke()}},{key:"draw",value:function(t){this.drawCharacter(t)}}]),t}(),L=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"fountain",{count:1e3,spread:4,gravity:.3})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Fountain"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.drops||e){var n=this.ctx,a=this.width,s=this.height;n.globalCompositeOperation="overlay",this.drops=[],this.center||(this.center={x:.5*a,y:.5*s})}}},{key:"draw",value:function(){var t=this.ctx,e=this.drops,i=this.width,n=this.height;if(t){var a=this.getConfig(),s=a.count,r=a.spread,h=a.gravity;e.length<s?this.tick=0:(this.tick++,this.tick>120&&(e.length=0)),t.clearRect(0,0,i,n);for(var o=0;o<5;o++)if(e.length<s){var c=new W(this.center.x,n,this.getRandChar());c.move(r/2-Math.random()*r,-2*Math.random()-15),e.push(c)}for(var l=0;l<e.length;l++)e[l].move(0,h),e[l].integrate(),e[l].bounce(),e[l].draw(t)}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Droplets",100,1e3,1),this.renderOption("gravity","Gravity",.1,1,.1),this.renderOption("spread","Spread",4,20,1)])}}]),i}(Y),V=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;Object(f.a)(this,t),this.x=e,this.y=i,this.vx=n,this.vy=a,this.c=s}return Object(v.a)(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x+=this.vx+t,this.y+=this.vy+e}}]),t}(),N=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"hose",{count:1e3})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Hose"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.particles=[],this.center={x:this.width/2,y:1};for(var n=this.getConfig().count,a=0;a<n;++a)this.particles.push(new V(this.center.x,this.center.y,D(0,3)-1.5,D(0,3)-1.5,this.getRandChar()));this.ctx.fillStyle="rgba(0, 255, 0, 0.7)"}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height,a=this.center;if(t){t.clearRect(0,0,i,n);for(var s=0;s<e.length;++s){var r=e[s],h=r.x,o=r.y;h>=0&&h<i&&o>=0&&o<n?(r.update(0,5),t.fillText(r.c,h,o)):(r.x=a.x,r.y=a.y,r.vx=D(0,3)-1.5,r.vy=D(0,3)-1.5)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center={x:e.x,y:1}}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Droplets",100,1e3,1)])}}]),i}(Y),q=function(){function t(e,i,n){Object(f.a)(this,t),this.x=D(0,e),this.y=D(0,i),this.vx=-1+D(0,2),this.vy=-1+D(0,2),this.radius=4,this.c=n}return Object(v.a)(t,[{key:"draw",value:function(t){t.fillStyle="#0f0",t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fill(),t.fillText(this.c,this.x,this.y)}}]),t}(),B=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"web",{minDistance:70,blurness:.5})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Web"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){var n=this.width,a=this.height;this.particles=[];for(var s=0;s<150;s++)this.particles.push(new q(n,a,this.getRandChar()))}}},{key:"distance",value:function(t,e){var i=t.x-e.x,n=t.y-e.y,a=Math.sqrt(i*i+n*n),s=this.getConfig().minDistance;if(a<=s){var r=this.ctx;r.beginPath(),r.strokeStyle="rgba(0,255,0,"+(1.2-a/s)+")",r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.stroke(),r.closePath();var h=i/2e3,o=n/2e3;t.vx-=h,t.vy-=o,e.vx+=h,e.vy+=o}}},{key:"update",value:function(){for(var t=this.particles,e=this.width,i=this.height,n=0;n<t.length;n++){var a=t[n];a.x+=a.vx,a.y+=a.vy,a.x+a.radius>e?a.x=a.radius:a.x-a.radius<0&&(a.x=e-a.radius),a.y+a.radius>i?a.y=a.radius:a.y-a.radius<0&&(a.y=i-a.radius);for(var s=n+1;s<t.length;s++){var r=t[s];this.distance(a,r)}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height;if(t){t.fillStyle="rgba(0,0,0, ".concat(this.getConfig().blurness,")"),t.fillRect(0,0,i,n);for(var a=0;a<e.length;a++){e[a].draw(t)}this.update()}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("minDistance","Minimun Distance",10,200,1),this.renderOption("blurness","Blurness",.1,1,.05)])}}]),i}(Y),_=i(140),U=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"matrix",{evenFontSize:!0,fontSize:15,evenSpeed:!0,speed:120,patternIndex:0})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Rain"}}},{key:"changeConfig",value:function(t,e){this.getConfig()[t]=e,this.init(this.canvas,!0),u("event@effect-config-changed")}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.columns||e){var n=this.width,a=this.height,s=this.getConfig().fontSize||10;this.columns=[];for(var r=0;r<n/s;r++)this.columns[r]={y:D(0,a/s),speed:20+D(0,480),fontSize:10+D(0,25)}}}},{key:"getX",value:function(t){var e=this.columns,i=this.getConfig();if(i.evenFontSize)return t*i.fontSize;for(var n=0,a=0;a<t;a++)n+=e[a].fontSize;return n}},{key:"getYStep",value:function(t){var e=this.getConfig();return e.evenFontSize?e.fontSize:this.columns[t].fontSize}},{key:"draw",value:function(t){if(this.columns){var e=this.getConfig(),i=e.evenSpeed,n=e.evenFontSize,a=e.fontSize,s=this.ctx,r=this.width,h=this.height,o=this.columns;s.fillStyle="rgba(0,0,0,0.05)",s.fillRect(0,0,r,h),s.fillStyle="#0f0",n&&(s.font="".concat(a,"px Consolas"));for(var c=0;c<o.length;c++){var l=o[c];if(!i){if(l.speed>t)continue;var u=t%l.speed;if(!(u>=0&&u<=20))continue}var f=this.getRandChar(),v=this.getX(c),p=this.getYStep(c),d=l.y*p;n||(s.font="".concat(l.fontSize,"px Consolas")),d<h&&(l.lastChar&&(s.fillStyle="#0f0",s.fillText(l.lastChar,v,d-p)),s.fillStyle="#fff",s.fillText(f,v,d)),d>h&&Math.random()>.975?(l.y=1,l.lastChar=void 0):(l.y++,l.lastChar=f)}}}},{key:"renderSpeedOption",value:function(){var t=this,e=this.getConfig(),i=e.evenSpeed,n=e.speed;return a.a.createElement("div",{key:"matrix#speed",className:"underline",style:{padding:"8px 0"}},a.a.createElement(_.a,{style:{margin:"0 16px 0 0"},checked:i,onChange:function(e){return t.changeConfig("evenSpeed",!t.getConfig().evenSpeed)}},"Even Speed"),i&&a.a.createElement("div",{style:{margin:"8px 0",maxWidth:"150px"}},a.a.createElement("span",null,"Speed: ".concat(n)),a.a.createElement(P.a,{min:20,max:500,step:10,value:n,tipFormatter:function(t){return"".concat(t," ms")},onChange:function(e){return t.changeConfig("speed",e)}})))}},{key:"renderFontSizeOption",value:function(){var t=this,e=this.getConfig(),i=e.evenFontSize,n=e.fontSize;return a.a.createElement("div",{key:"matrix#fontsize",style:{padding:"8px 0"}},a.a.createElement(_.a,{style:{margin:"0 16px 0 0"},checked:i,onChange:function(e){return t.changeConfig("evenFontSize",!t.getConfig().evenFontSize)}},"Even Font Size"),i&&a.a.createElement("div",{style:{margin:"8px 0",maxWidth:"200px"}},a.a.createElement("span",null,"Font Size: ".concat(n)),a.a.createElement(P.a,{min:10,max:35,step:1,value:n,tipFormatter:function(t){return"".concat(t," px")},onChange:function(e){return t.changeConfig("fontSize",e)}})))}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderSpeedOption(),this.renderFontSizeOption()])}}]),i}(Y),Z=Math.pow(80,2),J=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"pond",{drag:.8,ease:.25})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Pond"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.tick=0,this.mouseDragged=!1,this.center={x:0,y:0},this.particles=[];for(var n=~~(this.width/10),a=~~(this.height/10),s=0;s<a;s++)for(var r=0;r<n;r++){var h=10*r,o=10*s;this.particles.push({x:h,ox:h,y:o,oy:o,vx:0,vy:0,c:this.getRandChar()})}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.mouseDragged,n=this.width,a=this.height;if(t)if(this.tick++,this.tick%2){var s=this.getConfig(),r=s.drag,h=s.ease;if(!i){var o=.001*+new Date;this.center={x:.5*n+Math.cos(2.1*o)*Math.cos(.9*o)*n*.45,y:.5*a+Math.sin(3.2*o)*Math.tan(Math.sin(.8*o))*a*.45}}for(var c=0;c<e.length;c++){var l=e[c],u=this.center.x-l.x,f=this.center.y-l.y;if(u||f){var v=u*u+f*f,p=-Z/v;if(v<Z){var d=Math.atan2(f,u);l.vx+=p*Math.cos(d),l.vy+=p*Math.sin(d)}}l.vx*=r,l.vy*=r,l.x+=l.vx+(l.ox-l.x)*h,l.y+=l.vy+(l.oy-l.y)*h}}else{this.ctx.fillStyle="rgba(0, 255, 0, 0.7)",t.clearRect(0,0,n,a);for(var y=0;y<e.length;y++){var g=e[y];t.fillText(g.c,g.x,g.y)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.mouseDragged=!0,this.center=e}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("drag","Drag",.1,1,.05),this.renderOption("ease","Ease",.1,1,.05)])}}]),i}(Y),H=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;Object(f.a)(this,t),this.x=e,this.y=i,this.vx=n,this.vy=a,this.c=s,this.fontSize=Math.floor(20*Math.random())+15}return Object(v.a)(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x+=this.vx+t,this.y+=this.vy+e}}]),t}(),G=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"bounce",{count:1e3})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Bounce"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.particles=[];for(var n=this.getConfig().count,a=0;a<n;++a)this.particles.push(new H(this.center.x,this.center.y,D(0,3)-1.5,D(0,3)-1.5,this.getRandChar()));this.ctx.fillStyle="rgba(0, 255, 0, 0.7)"}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height;if(t){t.clearRect(0,0,i,n);for(var a=0;a<e.length;++a){var s=e[a];s.x>0&&s.x<i&&s.y>0&&s.y<n?(t.font="".concat(s.fontSize,"px Consolas"),t.fillText(s.c,s.x,s.y)):((s.x<0&&s.vx<0||s.x>i&&s.vx>0)&&(s.vx=-1*s.vx),(s.y<0&&s.vy<0||s.y>n&&s.vy>0)&&(s.vy=-1*s.vy)),s.update()}}}},{key:"event",value:function(t,e){t}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Characters",10,1e3,1)])}}]),i}(Y),$=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"sphere",{sphereRad:280,radius_sp:1})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Sphere"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particleList||e){var n=this.width,a=this.height,s=this.getConfig().sphereRad;this.wait=1,this.count=this.wait-1,this.numToAddEachFrame=8,this.rgbString="rgba(70,255,140,",this.particleAlpha=1,this.fLen=320,this.projCenterX=n/2,this.projCenterY=a/2,this.zMax=this.fLen-2,this.particleList={},this.recycleBin={},this.randAccelX=.1,this.randAccelY=.1,this.randAccelZ=.1,this.gravity=-0,this.particleRad=2.5,this.sphereCenterX=0,this.sphereCenterY=0,this.sphereCenterZ=-3-s,this.zeroAlphaDepth=-750,this.turnSpeed=2*Math.PI/1200,this.turnAngle=0}}},{key:"draw",value:function(){if(this.ctx){this.count++;var t,e=this.ctx,i=this.width,n=this.height,a=this.particleList,s=this.randAccelX,r=this.randAccelY,h=this.randAccelZ,o=this.particleAlpha,c=this.zeroAlphaDepth,l=this.fLen,u=this.projCenterX,f=this.projCenterY,v=this.gravity,p=this.rgbString,d=this.count,y=this.wait,g=this.zMax,m=this.numToAddEachFrame,x=this.sphereCenterY,b=this.sphereCenterZ,O=this.getConfig(),w=O.sphereRad,k=O.radius_sp;if(d>=y){this.count=0;for(var j=0;j<m;j++){var C=2*Math.random()*Math.PI,S=Math.acos(2*Math.random()-1),E=w*Math.sin(S)*Math.cos(C),M=w*Math.sin(S)*Math.sin(C),R=w*Math.cos(S);(t=this.addParticle(E,x+M,b+R,.002*E,.002*M,.002*R)).attack=50,t.hold=50,t.decay=100,t.initValue=0,t.holdValue=o,t.lastValue=0,t.stuckTime=90+20*Math.random(),t.accelX=0,t.accelY=v,t.accelZ=0}}this.turnAngle=(this.turnAngle+this.turnSpeed)%(2*Math.PI);var T=Math.sin(this.turnAngle),z=Math.cos(this.turnAngle);for(e.fillStyle="#000000",e.fillRect(0,0,i,n),t=a.first;null!=t;){var P=t.next;t.age++,t.age>t.stuckTime&&(t.velX+=t.accelX+s*(2*Math.random()-1),t.velY+=t.accelY+r*(2*Math.random()-1),t.velZ+=t.accelZ+h*(2*Math.random()-1),t.x+=t.velX,t.y+=t.velY,t.z+=t.velZ),this.rotX=z*t.x+T*(t.z-b),this.rotZ=-T*t.x+z*(t.z-b)+b;var F=k*l/(l-this.rotZ);t.projX=this.rotX*F+u,t.projY=t.y*F+f,t.age<t.attack+t.hold+t.decay?t.age<t.attack?t.alpha=(t.holdValue-t.initValue)/t.attack*t.age+t.initValue:t.age<t.attack+t.hold?t.alpha=t.holdValue:t.age<t.attack+t.hold+t.decay&&(t.alpha=(t.lastValue-t.holdValue)/t.decay*(t.age-t.attack-t.hold)+t.holdValue):t.dead=!0;var A=!1;(t.projX>i||t.projX<0||t.projY<0||t.projY>n||this.rotZ>g)&&(A=!0),A||t.dead?this.recycle(t):(this.depthAlphaFactor=1-this.rotZ/c,this.depthAlphaFactor=this.depthAlphaFactor>1?1:this.depthAlphaFactor<0?0:this.depthAlphaFactor,e.fillStyle=p+this.depthAlphaFactor*t.alpha+")",e.beginPath(),e.font="".concat(t.fontSize,"px Consolas"),e.fillText(t.letter,t.projX,t.projY),e.closePath(),e.fill()),t=P}}}},{key:"addParticle",value:function(t,e,i,n,a,s){var r,h=this.particleList,o=this.recycleBin;return null!=o.first?null!=(r=o.first).next?(o.first=r.next,r.next.prev=null):o.first=null:r={},null==h.first?(h.first=r,r.prev=null,r.next=null):(r.next=h.first,h.first.prev=r,h.first=r,r.prev=null),r.x=t,r.y=e,r.z=i,r.velX=n,r.velY=a,r.velZ=s,r.age=0,r.dead=!1,Math.random()<.5?r.right=!0:r.right=!1,r.fontSize=D(8,20),r.letter=this.getRandChar(),r}},{key:"recycle",value:function(t){var e=this.particleList,i=this.recycleBin;e.first===t?null!=t.next?(t.next.prev=null,e.first=t.next):e.first=null:null==t.next?t.prev.next=null:(t.prev.next=t.next,t.next.prev=t.prev),null==i.first?(i.first=t,t.prev=null,t.next=null):(t.next=i.first,i.first.prev=t,i.first=t,t.prev=null)}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("sphereRad","Sphere Radius",20,500,1),this.renderOption("radius_sp","Radius Spaces",1,2,.01)])}}]),i}(Y),K=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"typewriter",{})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Monkey Typewriter"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.lines||e){this.startRow=0,this.currentRow=0,this.currentCol=0,this.lines=[];for(var n=0;n<1e3;n++)this.lines.push(this.getRandString())}}},{key:"clearPaint",value:function(t,e,i,n,a){t.globalCompositeOperation="source-over",t.shadowBlur=0,t.fillStyle="rgba(0,0,0,0.4)",t.fillRect(e,i,n,a)}},{key:"draw",value:function(){var t=this.ctx,e=this.width,i=this.height,n=this.lines,a=this.startRow,s=this.currentRow;if(t){this.clearPaint(t,0,0,e,i),t.shadowColor="rgba(0,255,0,0.5)",t.shadowBlur=10,t.fillStyle="#060",t.globalCompositeOperation="lighter";var r=this.currentCol;r>10&&Math.random()>.95&&(r-=5,this.currentCol=r);for(var h=n[s].substr(0,r),o=a;o<n.length&&!(o>s);o++){var c=o!==s?n[o]:h;t.fillText(c,16,16+20*(o-a))}t.filStyle="#0f0",t.fillRect(16+t.measureText(h).width,16+20*(s-a)-10,10,14),this.currentCol++,this.currentCol>=n[s].length&&(this.currentRow++,this.currentCol=0),s<n.length&&20*(s-a)>i-100&&this.startRow++}}}]),i}(Y),Q=function t(e,i,n,a,s){Object(f.a)(this,t),this.x=0,this.y=0,this.ox=e,this.oy=i,this.color=n,this.speed=a,this.sx=0,this.sy=0,this.c=s},tt=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"tunnel",{})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Tunnel"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){this.particleSize=5,this.coef=0,this.particles=[];for(var n=1,a=384;a>=0;a--){var s=137.5077*Math.PI/180*a;a%5===0&&(n+=2);var r=n+6;this.particles.push(new Q(Math.cos(s)*n,Math.sin(s)*n,"rgba(0, ".concat(12*r,", 0, 0.5)"),r,this.getRandChar()))}}}},{key:"draw",value:function(){var t=this.ctx,e=this.particles,i=this.width,n=this.height,a=this.center;this.coef,this.particleSize;if(t){t.clearRect(0,0,i,n);for(var s=384;s>=0;s--){var r=e[s];r.x+=(a.x-r.x)/r.speed,r.y+=(a.y-r.y)/r.speed,r.sx=Math.random(),r.sy=Math.random(),t.fillStyle=r.color,t.fillText(r.c,r.x+r.ox+r.sx,r.y+r.oy+r.sy)}}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":var i=e,n=this.width,a=this.height,s=n/2-i.x,r=a/2-i.y;this.coef=Math.sqrt(s*s+r*r)/((n+a)/14),i.y<.3*a&&this.particleSize>1&&this.particleSize--,i.y>.7*a&&this.particleSize<10&&this.particleSize++,this.center=i}}}]),i}(Y),et=function t(e,i,n,a,s,r,h){Object(f.a)(this,t),this.a={x:e,y:i,z:n},this.b={x:a,y:s,z:r},this.c=h},it=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"wave",{Y:1,U:-100,V:-100,amplitude:9})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Wave"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.particles||e){var n=this.getConfig(),a=n.Y,s=n.U,r=n.V;t.width=2e3,t.height=1126,this.W=0,this.T=0,this.Y=a,this.U=s,this.V=r,this.particles=[];for(var h=-18;h<=18;++h)for(var o=-18;o<=18;++o)this.particles.push(this.C(6*h,0,6*o,this.getRandChar()))}}},{key:"draw",value:function(){var t=this,e=this.canvas,i=this.ctx,n=this.particles,a=this.T,s=this.V,r=this.W;if(i){var h=Math.sin,o=Math.cos,c=Math.PI,l=Math.sqrt,u=Math.atan2;i.fillStyle="#000",i.fillRect(0,0,e.width,e.height);var f=l(a*a+s*s),v=o(r/80)/200,p=u(a,s)+v;this.T=h(p)*f,this.V=o(p)*f,this.yw=c+p;var d=this.getConfig().amplitude;n.forEach((function(e){var n=e.x,a=e.y,s=e.z;e.y=h(l(n*n+s*s)/16-r/15)*d+5,i.font="30px Consolas",i.fillStyle="rgba(0, 255, 0, 0.7)";var o=t.R(n,a,s);i.fillText(e.c,o.x,o.y)})),this.W++}}},{key:"R",value:function(t,e,i){var n=this.getConfig().amplitude,a=Math.sin,s=Math.cos,r=Math.sqrt,h=Math.atan2,o=this.T,c=this.U,l=this.V,u=this.Y,f=this.yw;e-=c;var v=h(t-=o,i-=l),p=r(i*i+t*t);t=a(v-f)*p,v=h(e,i=s(v-f)*p),p=r(e*e+i*i),e=a(v-u)*p;var d=-n;i=s(v-u)*p;return{x:1e3+900*(d+(1*(t-0)-(i-0)*(d-0))/((i-0)*(n-d)-(t-0)*((p=1)-1))*(n-d)),y:563+e/i*900}}},{key:"C",value:function(t,e,i,n){var a={};return a.c=n,a.x=t,a.y=e,a.z=i,a.s=[],a.s.push(this.addParticle(-1,-1,-1,1,-1,-1)),a.s.push(this.addParticle(1,-1,-1,1,1,-1)),a.s.push(this.addParticle(1,1,-1,-1,1,-1)),a.s.push(this.addParticle(-1,1,-1,-1,-1,-1)),a.s.push(this.addParticle(-1,-1,1,1,-1,1)),a.s.push(this.addParticle(1,-1,1,1,1,1)),a.s.push(this.addParticle(1,1,1,-1,1,1)),a.s.push(this.addParticle(-1,1,1,-1,-1,1)),a.s.push(this.addParticle(-1,-1,-1,-1,-1,1)),a.s.push(this.addParticle(1,-1,-1,1,-1,1)),a.s.push(this.addParticle(1,1,-1,1,1,1)),a.s.push(this.addParticle(-1,1,-1,-1,1,1)),a}},{key:"addParticle",value:function(t,e,i,n,a,s){return new et(t,e,i,n,a,s,this.getRandChar())}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center=e}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("amplitude","Amplitude",1,18,1)])}}]),i}(Y);var nt=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"fishy",{count:90})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Fishy"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.fish||e){var n=this.getConfig().count;this.maxMass=2e4,this.padding=50,this.fish=Object(R.a)(Array(n)).map((function(){var t=Math.random(),e="\ud83d\udc1f";return t>.6&&t<.9?e="\ud83d\udc20":t>=.9&&t<.95?e="\ud83d\udc19":t>=.95&&(e="\ud83d\udc21"),{energy:0,c:e}})),this.lastTime=Date.now(),this.trail=0}}},{key:"draw",value:function(){var t=this,e=this.ctx,i=this.width,n=this.height,a=(this.trail,this.padding),s=this.maxMass;if(e){var r=Date.now(),h=(r-this.lastTime)/1e3;this.lastTime=r;var o=[i+2*a,n+2*a],c=o[1]/1e3;e.fillStyle="#000",e.fillRect(0,0,i,n);var l=0,u=0;this.fish.map((function(i,n){var r=[[0,0,1e-8],[0,0,1e-8],[0,0,1e-8]];if(i.energy<=0)return i.p=o.map((function(t,e){return t*Math.random()})),i.v=[0,0],i.mass=i.energy=1,void(i.radius=0);t.fish.forEach((function(t){if(i!==t){var e=0,n=o.map((function(n,a){var s=t.p[a]-i.p[a];return s<-n/2&&(s+=n),s>n/2&&(s-=n),e+=s*s,s}));e=Math.sqrt(e)/c;var a=(i.mass-t.mass)/(i.mass+t.mass)>.2,h=-(i.mass-t.mass)/(i.mass+t.mass)>.2,f=!a&&!h;f&&(u=.1+(e<500),l=0,r[0][l]+=(n[l]+t.v[l]-i.v[l])*u,l++,r[0][l]+=(n[l]+t.v[l]-i.v[l])*u,r[0][2]+=2*u),(f&&e<4*i.radius||h&&e<200)&&(u=Math.max(1,200-e),l=0,r[1][l]-=n[l]/e*u*400,l++,r[1][l]-=n[l]/e*u*400,r[1][2]+=u),a&&(u=Math.max(1,300-e)*t.mass,l=0,r[2][l]+=n[l]/e*u*250,l++,r[2][l]+=n[l]/e*u*250,r[2][2]+=u),a&&e<1.1*i.radius&&(i.mass=Math.min(s,i.mass+t.mass),i.energy=Math.min(1,i.energy+t.mass/i.mass),t.energy=0),i.type=a?1:h?2:3}})),r.map((function(t){l=0,i.v[l]+=t[l]/t[2]*h*(110-i.radius)/110*c,l++,i.v[l]+=t[l]/t[2]*h*(110-i.radius)/110*c})),l=0,i.v[l]*=Math.pow(.55,h),l++,i.v[l]*=Math.pow(.55,h),l=0,i.p[l]=(i.p[l]+i.v[l]*h+o[l])%o[l],l++,i.p[l]=(i.p[l]+i.v[l]*h+o[l])%o[l],i.mass=Math.min(s,i.mass+h*(n/5)),i.energy-=h/50,i.radius=Math.sqrt(i.mass/Math.PI),e.save(),1!==i.type?(e.translate(i.p[0]-a,i.p[1]-a),e.rotate(-Math.atan2.apply(Math,Object(R.a)(i.v))+3*Math.PI/2),e.font="".concat(1.5*i.radius,"px Consolas"),e.fillText(i.c,-1,-1)):(e.translate(i.p[0]-a,i.p[1]-a),e.scale(i.radius*c,i.radius*c),e.rotate(-Math.atan2.apply(Math,Object(R.a)(i.v))),e.beginPath(),e.moveTo(-1.1,-1.5),e.bezierCurveTo(1.5,-.8,1.5,.8,0,1.5),e.bezierCurveTo(-1.5,.8,-1.5,-.8,1.1,-1.5),e.fillStyle="hsl(".concat(80-i.radius,",100%,").concat(50*i.energy,"%)"),e.fill()),e.restore()}))}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":break;case"event@mouse-clicked":this.trail=!this.trail}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Fish",50,300,1)])}}]),i}(Y),at=i(74);function st(t,e,i){return(1-i)*t+i*e}var rt={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200},ht=function(){function t(e,i,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(f.a)(this,t),this.config=Object(at.a)(Object(at.a)({},rt),a);var s=this.config,r=s.color,h=s.radius,o=s.wind,c=s.speed;this.params={color:r,c:n,x:D(0,e),y:D(-i,0),radius:D.apply(void 0,Object(R.a)(h)),speed:D.apply(void 0,Object(R.a)(c)),wind:D.apply(void 0,Object(R.a)(o)),nextSpeed:D.apply(void 0,Object(R.a)(o)),nextWind:D.apply(void 0,Object(R.a)(c)),angle:D(0,360)},this.framesSinceLastUpdate=0}return Object(v.a)(t,[{key:"draw",value:function(t){var e,i=this.config.color,n=this.params,a=n.x,s=n.y,r=n.c,h=n.angle,o=n.radius;if(t.fillStyle=i,o<.75?(t.beginPath(),t.arc(a,s,o,0,2*Math.PI),t.fillStyle=i,t.closePath(),t.fill()):o<2?(e=r,t.fillStyle="rgba(0, 255, 0, 0.5)"):o<2.25?(e="\u2745",this.params.angle+=3):o<2.5?(e="\u274a",this.params.angle-=3):o<2.75?(e="\u2749",this.params.angle+=3):(e="\u2746",this.params.angle-=3),e){t.save();var c=17*o/(this.config.radius[1]-this.config.radius[0]);t.font="".concat(c,"px Consolas"),t.translate(a,s),t.rotate(Math.PI*h/180),t.fillText(e,o,o),t.restore()}}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.params,n=i.x,a=i.y,s=i.wind,r=i.speed,h=i.nextWind,o=i.nextSpeed;this.params.x=(n+s*e)%t.offsetWidth,this.params.y=(a+r*e)%t.offsetHeight,this.params.speed=st(r,o,.01),this.params.wind=st(s,h,.01),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}},{key:"updateTargetParams",value:function(){this.params.nextSpeed=D.apply(void 0,Object(R.a)(this.config.speed)),this.params.nextWind=D.apply(void 0,Object(R.a)(this.config.wind))}},{key:"update",value:function(t,e){this.translate(t,e)}}]),t}(),ot=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"snowflake",{count:150,wind:2.5})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Snow Flake"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.flakes||e){var n=this.getConfig(),a=n.count,s=n.wind,r={wind:[-s/5,4*s/5]};this.flakes=[];for(var h=0;h<a;h++)this.flakes.push(new ht(this.width,this.height,this.getRandChar(),r))}}},{key:"draw",value:function(){var t=this.canvas,e=this.ctx,i=this.flakes;e&&(i.forEach((function(e){return e.update(t,1)})),e.clearRect(0,0,t.offsetWidth,t.offsetHeight),i.forEach((function(t){return t.draw(e)})))}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("count","Number of Snowflakes",10,300,1),this.renderOption("wind","Wind",2.5,25,.5)])}}]),i}(Y),ct=function(){function t(e,i,n){Object(f.a)(this,t),this.c=n,this.x=e,this.y=i,this.px=e,this.py=i,this.vx=0,this.vy=0,this.pin_x=null,this.pin_y=null,this.constraints=[]}return Object(v.a)(t,[{key:"update",value:function(t,e,i){if(t.down){var n=this.x-t.x,a=this.y-t.y,s=Math.sqrt(n*n+a*a);1===t.button?s<20&&(this.px=this.x-1.8*(t.x-t.px),this.py=this.y-1.8*(t.y-t.py)):s<5&&(this.constraints=[])}this.add_force(0,i),e*=e;var r=this.x+.99*(this.x-this.px)+this.vx/2*e,h=this.y+.99*(this.y-this.py)+this.vy/2*e;this.px=this.x,this.py=this.y,this.x=r,this.y=h,this.vy=this.vx=0}},{key:"draw",value:function(t){if(this.constraints.length){for(var e=this.constraints.length;e--;)this.constraints[e].draw(t);t.fillText(this.c,this.x-4,this.y+4)}}},{key:"resolve_constraints",value:function(t,e){if(null!=this.pin_x&&null!=this.pin_y)return this.x=this.pin_x,void(this.y=this.pin_y);for(var i=this.constraints.length;i--;)this.constraints[i].resolve();this.x>t?this.x=2*t-this.x:1>this.x&&(this.x=2-this.x),this.y<1?this.y=2-this.y:this.y>e&&(this.y=2*e-this.y)}},{key:"attach",value:function(t){this.constraints.push(new lt(this,t))}},{key:"remove_constraint",value:function(t){this.constraints.splice(this.constraints.indexOf(t),1)}},{key:"add_force",value:function(t,e){this.vx+=t,this.vy+=e;this.vx=~~(400*this.vx)/400,this.vy=~~(400*this.vy)/400}},{key:"pin",value:function(t,e){this.pin_x=t,this.pin_y=e}}]),t}(),lt=function(){function t(e,i){Object(f.a)(this,t),this.p1=e,this.p2=i,this.length=16}return Object(v.a)(t,[{key:"resolve",value:function(){var t=this.p1.x-this.p2.x,e=this.p1.y-this.p2.y,i=Math.sqrt(t*t+e*e),n=(this.length-i)/i;i>60&&this.p1.remove_constraint(this);var a=t*n*.5,s=e*n*.5;this.p1.x+=a,this.p1.y+=s,this.p2.x-=a,this.p2.y-=s}},{key:"draw",value:function(t){var e=this.p1,i=this.p2;t.moveTo(e.x,e.y),t.lineTo(i.x,i.y)}}]),t}(),ut=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"curtain",{gravity:1200})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Tearable Curtain"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.points||e){var n=this.ctx,a=this.width,s=this.height;n.strokeStyle="#888",n.fillStyle="#0f0",n.font="16px Consolas",this.mouse={down:!1,button:1,x:0,y:0,px:0,py:0},this.points=[];for(var r=~~((s-40)/20),h=~~((a-40)/20),o=a/2-16*h/2,c=0;c<=r;c++)for(var l=0;l<=h;l++){var u=new ct(o+16*l,20+16*c,this.getRandChar());0!==l&&u.attach(this.points[this.points.length-1]),0===c&&u.pin(u.x,u.y),0!==c&&u.attach(this.points[l+(c-1)*(h+1)]),this.points.push(u)}}}},{key:"draw",value:function(){var t=this.ctx,e=this.points,i=this.width,n=this.height;if(t){t.clearRect(0,0,i,n),this.update(),t.beginPath(),t.fillStyle="rgba(0, 255, 0, 0.7)";for(var a=e.length;a--;)e[a].draw(t);t.stroke()}}},{key:"update",value:function(){for(var t=this.mouse,e=this.width,i=this.height,n=this.getConfig().gravity,a=3;a--;)for(var s=this.points.length;s--;)this.points[s].resolve_constraints(e-1,i-1);for(a=this.points.length;a--;)this.points[a].update(t,.016,n)}},{key:"event",value:function(t,e){var i=this.mouse;switch(t){case"event@mouse-moved":i.px=i.x,i.py=i.y,i.x=e.x,i.y=e.y;break;case"event@mouse-clicked":i.px=i.x,i.py=i.y,i.x=e.x,i.y=e.y,i.down=!0}}},{key:"option",value:function(){return[].concat(Object(R.a)(Object(T.a)(Object(z.a)(i.prototype),"option",this).call(this)),[this.renderOption("gravity","Gravity",100,2e3,1)])}}]),i}(Y),ft=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){return Object(f.a)(this,i),e.call(this,t,"lightning",{count:500})}return Object(v.a)(i,[{key:"getDescriptor",value:function(){return{name:"Lightning"}}},{key:"init",value:function(t,e){if(Object(T.a)(Object(z.a)(i.prototype),"init",this).call(this,t,e),!this.lightning||e){this.lightTimeCurrent=0,this.lightTimeTotal=50,this.lightning=[];var n=this.ctx,a=this.width,s=this.height,r="hsl(180, 80%, 80%)";n.globalCompositeOperation="lighter",n.strokeStyle=r,n.shadowColor=r,n.fillStyle=r,n.fillRect(0,0,a,s),n.fillStyle="hsla(0, 0%, 10%, 0.2)",this.lightningTime=Date.now()}}},{key:"draw",value:function(){var t=this.ctx,e=this.width,i=this.height;if(t){t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0,0,0,"+D(1,30)/100+")",t.fillRect(0,0,e,i),t.globalCompositeOperation="source-over";var n=Date.now(),a=n-this.lightningTime;a<200?(this.updateLightning(),this.lightningTimer(),this.drawLightning()):a>D(500,1500)&&(this.lightningTime=n)}}},{key:"createLightning",value:function(t,e,i){this.lightning.push({x:t,y:e,xRange:D(5,30),yRange:D(5,25),path:[{x:t,y:e}],pathLimit:D(10,35),canSpawn:i,hasFired:!1})}},{key:"updateLightning",value:function(){for(var t=this.lightning,e=t.length;e--;){var i=t[e];i.path.push({x:i.path[i.path.length-1].x+(D(0,i.xRange)-i.xRange/2),y:i.path[i.path.length-1].y+D(0,i.yRange)}),i.path.length>i.pathLimit&&t.splice(e,1),i.hasFired=!0}}},{key:"drawLightning",value:function(){for(var t=this.ctx,e=this.width,i=this.height,n=this.lightning,a=n.length;a--;){var s=n[a];t.strokeStyle="hsla(0, 100%, 100%, "+D(10,100)/100+")",t.lineWidth=1,0===D(0,30)&&(t.lineWidth=2),0===D(0,60)&&(t.lineWidth=3),0===D(0,90)&&(t.lineWidth=4),0===D(0,120)&&(t.lineWidth=5),0===D(0,150)&&(t.lineWidth=6),t.beginPath();var r=s.path.length;t.moveTo(s.x,s.y);for(var h=0;h<r;h++)t.lineTo(s.path[h].x,s.path[h].y),s.canSpawn&&0===D(0,100)&&(s.canSpawn=!1,this.createLightning(s.path[h].x,s.path[h].y,!1));s.hasFired||(t.fillStyle="rgba(255, 255, 255, "+D(4,12)/100+")",t.fillRect(0,0,e,i)),0===D(0,30)&&(t.fillStyle="rgba(255, 255, 255, "+D(1,3)/100+")",t.fillRect(0,0,e,i)),t.stroke()}}},{key:"lightningTimer",value:function(){if(this.lightTimeCurrent++,this.lightTimeCurrent>=this.lightTimeTotal){for(var t=D(100,this.width-100),e=D(0,this.height/2),i=D(1,3);i--;)this.createLightning(t,e,!0);this.lightTimeCurrent=0,this.lightTimeTotal=D(30,100)}}},{key:"event",value:function(t,e){switch(t){case"event@mouse-moved":case"event@mouse-clicked":this.center={x:e.x,y:1}}}}]),i}(Y),vt=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){var n;return Object(f.a)(this,i),(n=e.call(this,t)).effects=[new U(M),new K(M),new ft(M),new ot(M),new ut(M),new it(M),new tt(M),new J(M),new nt(M),new L(M),new $(M),new G(M),new X(M),new B(M),new N(M)],window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}},window.cancelAnimFrame=function(t){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}},n.initEffect=n.initEffect.bind(Object(p.a)(n)),n.drawEffect=n.drawEffect.bind(Object(p.a)(n)),n.onChangeEffectOption=n.onChangeEffectOption.bind(Object(p.a)(n)),n.onToggleOptionBar=n.onToggleOptionBar.bind(Object(p.a)(n)),n.onEvent=n.onEvent.bind(Object(p.a)(n)),n.onResize=n.onResize.bind(Object(p.a)(n)),n.onRun=n.onRun.bind(Object(p.a)(n)),n.onStop=n.onStop.bind(Object(p.a)(n)),E(),n}return Object(v.a)(i,[{key:"componentDidMount",value:function(t){var e=this;(function(){return C.apply(this,arguments)})().then((function(){e.onRun()})),c("effects",this.onEvent),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.onStop(),S(),l("effects",this.onEvent)}},{key:"onResize",value:function(){this.initEffect(!0),this.forceUpdate()}},{key:"onEvent",value:function(t,e){switch(console.log("effects: ".concat(t)),t){case"event@mouse-down":case"event@mouse-clicked":case"event@mouse-moved":case"event@mouse-up":if(this.canvas){var i=this.getEffect();i&&i.event(t,{x:e.x-this.canvas.offsetLeft,y:e.y-this.canvas.offsetTop})}break;case"event@effect-config-changed":this.onChangeEffectOption();break;case"event@refresh":this.forceUpdate()}}},{key:"onRun",value:function(){this.raf&&cancelAnimationFrame(this.raf),this.running=!0,this.raf=requestAnimationFrame(this.drawEffect)}},{key:"onStop",value:function(){this.running=!1,this.raf&&cancelAnimationFrame(this.raf),this.raf=void 0}},{key:"onChangeEffectOption",value:function(){this.initEffect(!0),S(),this.forceUpdate()}},{key:"onToggleOptionBar",value:function(t){if(M.optionOpended=!M.optionOpended,M.optionOpended)this.onStop();else{var e=this.getEffect();e&&e.configChanged&&e.configChanged(),this.onRun()}this.forceUpdate()}},{key:"getEffect",value:function(){var t=0|this.effectIndex;return this.effects[t%this.effects.length]}},{key:"initEffect",value:function(t){var e=this.canvas,i=this.container;if(e&&i){this.canvas=e;var n=this.getEffect();n&&n.init(e,i.width||i.clientWidth,i.height||i.clientHeight,t)}}},{key:"drawEffect",value:function(){if(this.canvas){if(this.running){var t=this.getEffect();t&&t.draw()}requestAnimationFrame(this.drawEffect)}}},{key:"renderEffectTypeOption",value:function(){var t=this,e=this.effects.map((function(t){return t.getDescriptor().name}));return a.a.createElement("div",{key:"effect#effectIndex",className:"underline",style:{padding:"8px 0"}},a.a.createElement("span",null,"Effect Type"),a.a.createElement(g.a,{ref:function(e){return t.selectElement=e},style:{minWidth:"150px",margin:"0 0 0 8px"},defaultValue:this.effectIndex,placeholder:"Select an effect type",onChange:function(e){t.effectIndex=e,t.onChangeEffectOption()}},e.map((function(t,e){return a.a.createElement(g.a.Option,{key:"effect#".concat(e),value:e},"".concat(t))}))))}},{key:"renderOptions",value:function(){var t,e=[this.renderEffectTypeOption()],i=null===(t=this.getEffect())||void 0===t?void 0:t.option();return i&&e.push(a.a.createElement("div",{style:{padding:"8px",background:"#efefef"}},i)),e}},{key:"renderEffect",value:function(){var t=this;return a.a.createElement("canvas",{ref:function(e){e&&(t.canvas=e,t.initEffect(!1))},style:{width:"100vw",height:"100vh",background:"black"},onMouseDown:function(e){return t.onEvent("event@mouse-down",{x:e.clientX,y:e.clientY})},onMouseMove:function(e){return t.onEvent("event@mouse-moved",{x:e.clientX,y:e.clientY})},onMouseUp:function(e){return t.onEvent("event@mouse-up",{x:e.clientX,y:e.clientY})},onClick:function(e){return t.onEvent("event@mouse-clicked",{x:e.clientX,y:e.clientY})},onTouchStart:function(e){return t.onEvent("event@mouse-down",{x:e.clientX,y:e.clientY})},onTouchMove:function(e){return t.onEvent("event@mouse-moved",{x:e.clientX,y:e.clientY})},onMouseEnd:function(e){return t.onEvent("event@mouse-up",{x:e.clientX,y:e.clientY})}})}},{key:"render",value:function(){var t,e=this,i=M.optionOpended;return a.a.createElement("div",{ref:function(t){t&&(e.container=t,e.initEffect(!0))},style:{width:"100vw",height:"100vh"}},this.renderEffect(),a.a.createElement("span",{className:"app-setting",onClick:function(){return e.onToggleOptionBar()}},a.a.createElement(x.a,null)),a.a.createElement(m.a,{title:"Options",placement:"right",closable:!0,width:Math.min(400,(null===(t=this.container)||void 0===t?void 0:t.width)||400),onClose:function(){return e.onToggleOptionBar()},visible:i},this.renderOptions()))}}]),i}(a.a.Component),pt=function(t){Object(d.a)(i,t);var e=Object(y.a)(i);function i(t){var n;return Object(f.a)(this,i),(n=e.call(this,t)).onEvent=n.onEvent.bind(Object(p.a)(n)),n}return Object(v.a)(i,[{key:"componentDidMount",value:function(t){this.restoreState(),c("home",this.onEvent)}},{key:"componentWillUnmount",value:function(){this.saveState(),l("home",this.onEvent)}},{key:"saveState",value:function(){}},{key:"restoreState",value:function(){}},{key:"onEvent",value:function(t,e){}},{key:"render",value:function(){return a.a.createElement("div",{className:"app-container"},a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",{style:{margin:"16px"}},"Loading...")},a.a.createElement(vt,null)))}}]),i}(a.a.Component);window.onpopstate=function(t){u("event@popstate",t.state)};var dt=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(pt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},51:function(t,e,i){},99:function(t,e,i){t.exports=i(133)}},[[99,1,2]]]);
//# sourceMappingURL=main.602c7d41.chunk.js.map